{"ast":null,"code":"import * as React from 'react';\nimport { convertDataToEntities } from \"@rc-component/tree/es/utils/treeUtil\";\nimport { VALUE_SPLIT } from \"../utils/commonUtil\";\n/** Lazy parse options data into conduct-able info to avoid perf issue in single mode */\nexport default (options, fieldNames) => {\n  const cacheRef = React.useRef({\n    options: [],\n    info: {\n      keyEntities: {},\n      pathKeyEntities: {}\n    }\n  });\n  const getEntities = React.useCallback(() => {\n    if (cacheRef.current.options !== options) {\n      cacheRef.current.options = options;\n      cacheRef.current.info = convertDataToEntities(options, {\n        fieldNames: fieldNames,\n        initWrapper: wrapper => ({\n          ...wrapper,\n          pathKeyEntities: {}\n        }),\n        processEntity: (entity, wrapper) => {\n          const pathKey = entity.nodes.map(node => node[fieldNames.value]).join(VALUE_SPLIT);\n          wrapper.pathKeyEntities[pathKey] = entity;\n\n          // Overwrite origin key.\n          // this is very hack but we need let conduct logic work with connect path\n          entity.key = pathKey;\n        }\n      });\n    }\n    return cacheRef.current.info.pathKeyEntities;\n  }, [fieldNames, options]);\n  return getEntities;\n};","map":{"version":3,"names":["React","convertDataToEntities","VALUE_SPLIT","options","fieldNames","cacheRef","useRef","info","keyEntities","pathKeyEntities","getEntities","useCallback","current","initWrapper","wrapper","processEntity","entity","pathKey","nodes","map","node","value","join","key"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/cascader/es/hooks/useEntities.js"],"sourcesContent":["import * as React from 'react';\nimport { convertDataToEntities } from \"@rc-component/tree/es/utils/treeUtil\";\nimport { VALUE_SPLIT } from \"../utils/commonUtil\";\n/** Lazy parse options data into conduct-able info to avoid perf issue in single mode */\nexport default ((options, fieldNames) => {\n  const cacheRef = React.useRef({\n    options: [],\n    info: {\n      keyEntities: {},\n      pathKeyEntities: {}\n    }\n  });\n  const getEntities = React.useCallback(() => {\n    if (cacheRef.current.options !== options) {\n      cacheRef.current.options = options;\n      cacheRef.current.info = convertDataToEntities(options, {\n        fieldNames: fieldNames,\n        initWrapper: wrapper => ({\n          ...wrapper,\n          pathKeyEntities: {}\n        }),\n        processEntity: (entity, wrapper) => {\n          const pathKey = entity.nodes.map(node => node[fieldNames.value]).join(VALUE_SPLIT);\n          wrapper.pathKeyEntities[pathKey] = entity;\n\n          // Overwrite origin key.\n          // this is very hack but we need let conduct logic work with connect path\n          entity.key = pathKey;\n        }\n      });\n    }\n    return cacheRef.current.info.pathKeyEntities;\n  }, [fieldNames, options]);\n  return getEntities;\n});"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,qBAAqB,QAAQ,sCAAsC;AAC5E,SAASC,WAAW,QAAQ,qBAAqB;AACjD;AACA,eAAgB,CAACC,OAAO,EAAEC,UAAU,KAAK;EACvC,MAAMC,QAAQ,GAAGL,KAAK,CAACM,MAAM,CAAC;IAC5BH,OAAO,EAAE,EAAE;IACXI,IAAI,EAAE;MACJC,WAAW,EAAE,CAAC,CAAC;MACfC,eAAe,EAAE,CAAC;IACpB;EACF,CAAC,CAAC;EACF,MAAMC,WAAW,GAAGV,KAAK,CAACW,WAAW,CAAC,MAAM;IAC1C,IAAIN,QAAQ,CAACO,OAAO,CAACT,OAAO,KAAKA,OAAO,EAAE;MACxCE,QAAQ,CAACO,OAAO,CAACT,OAAO,GAAGA,OAAO;MAClCE,QAAQ,CAACO,OAAO,CAACL,IAAI,GAAGN,qBAAqB,CAACE,OAAO,EAAE;QACrDC,UAAU,EAAEA,UAAU;QACtBS,WAAW,EAAEC,OAAO,KAAK;UACvB,GAAGA,OAAO;UACVL,eAAe,EAAE,CAAC;QACpB,CAAC,CAAC;QACFM,aAAa,EAAEA,CAACC,MAAM,EAAEF,OAAO,KAAK;UAClC,MAAMG,OAAO,GAAGD,MAAM,CAACE,KAAK,CAACC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAChB,UAAU,CAACiB,KAAK,CAAC,CAAC,CAACC,IAAI,CAACpB,WAAW,CAAC;UAClFY,OAAO,CAACL,eAAe,CAACQ,OAAO,CAAC,GAAGD,MAAM;;UAEzC;UACA;UACAA,MAAM,CAACO,GAAG,GAAGN,OAAO;QACtB;MACF,CAAC,CAAC;IACJ;IACA,OAAOZ,QAAQ,CAACO,OAAO,CAACL,IAAI,CAACE,eAAe;EAC9C,CAAC,EAAE,CAACL,UAAU,EAAED,OAAO,CAAC,CAAC;EACzB,OAAOO,WAAW;AACpB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}