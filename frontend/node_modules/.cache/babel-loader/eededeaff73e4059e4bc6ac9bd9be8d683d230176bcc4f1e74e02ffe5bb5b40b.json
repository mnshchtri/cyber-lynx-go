{"ast":null,"code":"import * as React from 'react';\nexport const SEARCH_MARK = '__rc_cascader_search_mark__';\nconst defaultFilter = (search, options, {\n  label = ''\n}) => options.some(opt => String(opt[label]).toLowerCase().includes(search.toLowerCase()));\nconst defaultRender = (inputValue, path, prefixCls, fieldNames) => path.map(opt => opt[fieldNames.label]).join(' / ');\nconst useSearchOptions = (search, options, fieldNames, prefixCls, config, enableHalfPath) => {\n  const {\n    filter = defaultFilter,\n    render = defaultRender,\n    limit = 50,\n    sort\n  } = config;\n  return React.useMemo(() => {\n    const filteredOptions = [];\n    if (!search) {\n      return [];\n    }\n    function dig(list, pathOptions, parentDisabled = false) {\n      list.forEach(option => {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n        const connectedPathOptions = [...pathOptions, option];\n        const children = option[fieldNames.children];\n        const mergedDisabled = parentDisabled || option.disabled;\n\n        // If current option is filterable\n        if (\n        // If is leaf option\n        !children || children.length === 0 ||\n        // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            filteredOptions.push({\n              ...option,\n              disabled: mergedDisabled,\n              [fieldNames.label]: render(search, connectedPathOptions, prefixCls, fieldNames),\n              [SEARCH_MARK]: connectedPathOptions,\n              [fieldNames.children]: undefined\n            });\n          }\n        }\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n    dig(options, []);\n\n    // Do sort\n    if (sort) {\n      filteredOptions.sort((a, b) => {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\nexport default useSearchOptions;","map":{"version":3,"names":["React","SEARCH_MARK","defaultFilter","search","options","label","some","opt","String","toLowerCase","includes","defaultRender","inputValue","path","prefixCls","fieldNames","map","join","useSearchOptions","config","enableHalfPath","filter","render","limit","sort","useMemo","filteredOptions","dig","list","pathOptions","parentDisabled","forEach","option","length","connectedPathOptions","children","mergedDisabled","disabled","push","undefined","a","b","slice"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/cascader/es/hooks/useSearchOptions.js"],"sourcesContent":["import * as React from 'react';\nexport const SEARCH_MARK = '__rc_cascader_search_mark__';\nconst defaultFilter = (search, options, {\n  label = ''\n}) => options.some(opt => String(opt[label]).toLowerCase().includes(search.toLowerCase()));\nconst defaultRender = (inputValue, path, prefixCls, fieldNames) => path.map(opt => opt[fieldNames.label]).join(' / ');\nconst useSearchOptions = (search, options, fieldNames, prefixCls, config, enableHalfPath) => {\n  const {\n    filter = defaultFilter,\n    render = defaultRender,\n    limit = 50,\n    sort\n  } = config;\n  return React.useMemo(() => {\n    const filteredOptions = [];\n    if (!search) {\n      return [];\n    }\n    function dig(list, pathOptions, parentDisabled = false) {\n      list.forEach(option => {\n        // Perf saving when `sort` is disabled and `limit` is provided\n        if (!sort && limit !== false && limit > 0 && filteredOptions.length >= limit) {\n          return;\n        }\n        const connectedPathOptions = [...pathOptions, option];\n        const children = option[fieldNames.children];\n        const mergedDisabled = parentDisabled || option.disabled;\n\n        // If current option is filterable\n        if (\n        // If is leaf option\n        !children || children.length === 0 ||\n        // If is changeOnSelect or multiple\n        enableHalfPath) {\n          if (filter(search, connectedPathOptions, {\n            label: fieldNames.label\n          })) {\n            filteredOptions.push({\n              ...option,\n              disabled: mergedDisabled,\n              [fieldNames.label]: render(search, connectedPathOptions, prefixCls, fieldNames),\n              [SEARCH_MARK]: connectedPathOptions,\n              [fieldNames.children]: undefined\n            });\n          }\n        }\n        if (children) {\n          dig(option[fieldNames.children], connectedPathOptions, mergedDisabled);\n        }\n      });\n    }\n    dig(options, []);\n\n    // Do sort\n    if (sort) {\n      filteredOptions.sort((a, b) => {\n        return sort(a[SEARCH_MARK], b[SEARCH_MARK], search, fieldNames);\n      });\n    }\n    return limit !== false && limit > 0 ? filteredOptions.slice(0, limit) : filteredOptions;\n  }, [search, options, fieldNames, prefixCls, render, enableHalfPath, filter, sort, limit]);\n};\nexport default useSearchOptions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}