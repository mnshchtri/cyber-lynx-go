{"ast":null,"code":"// ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n  for (let i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport default class ThemeCache {\n  static MAX_CACHE_SIZE = 20;\n  static MAX_CACHE_OFFSET = 5;\n  cache;\n  keys;\n  cacheCallTimes;\n  constructor() {\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n  size() {\n    return this.keys.length;\n  }\n  internalGet(derivativeOption, updateCallTimes = false) {\n    let cache = {\n      map: this.cache\n    };\n    derivativeOption.forEach(derivative => {\n      if (!cache) {\n        cache = undefined;\n      } else {\n        cache = cache?.map?.get(derivative);\n      }\n    });\n    if (cache?.value && updateCallTimes) {\n      cache.value[1] = this.cacheCallTimes++;\n    }\n    return cache?.value;\n  }\n  get(derivativeOption) {\n    return this.internalGet(derivativeOption, true)?.[0];\n  }\n  has(derivativeOption) {\n    return !!this.internalGet(derivativeOption);\n  }\n  set(derivativeOption, value) {\n    // New cache\n    if (!this.has(derivativeOption)) {\n      if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n        const [targetKey] = this.keys.reduce((result, key) => {\n          const [, callTimes] = result;\n          if (this.internalGet(key)[1] < callTimes) {\n            return [key, this.internalGet(key)[1]];\n          }\n          return result;\n        }, [this.keys[0], this.cacheCallTimes]);\n        this.delete(targetKey);\n      }\n      this.keys.push(derivativeOption);\n    }\n    let cache = this.cache;\n    derivativeOption.forEach((derivative, index) => {\n      if (index === derivativeOption.length - 1) {\n        cache.set(derivative, {\n          value: [value, this.cacheCallTimes++]\n        });\n      } else {\n        const cacheValue = cache.get(derivative);\n        if (!cacheValue) {\n          cache.set(derivative, {\n            map: new Map()\n          });\n        } else if (!cacheValue.map) {\n          cacheValue.map = new Map();\n        }\n        cache = cache.get(derivative).map;\n      }\n    });\n  }\n  deleteByPath(currentCache, derivatives) {\n    const cache = currentCache.get(derivatives[0]);\n    if (derivatives.length === 1) {\n      if (!cache.map) {\n        currentCache.delete(derivatives[0]);\n      } else {\n        currentCache.set(derivatives[0], {\n          map: cache.map\n        });\n      }\n      return cache.value?.[0];\n    }\n    const result = this.deleteByPath(cache.map, derivatives.slice(1));\n    if ((!cache.map || cache.map.size === 0) && !cache.value) {\n      currentCache.delete(derivatives[0]);\n    }\n    return result;\n  }\n  delete(derivativeOption) {\n    // If cache exists\n    if (this.has(derivativeOption)) {\n      this.keys = this.keys.filter(item => !sameDerivativeOption(item, derivativeOption));\n      return this.deleteByPath(this.cache, derivativeOption);\n    }\n    return undefined;\n  }\n}","map":{"version":3,"names":["sameDerivativeOption","left","right","length","i","ThemeCache","MAX_CACHE_SIZE","MAX_CACHE_OFFSET","cache","keys","cacheCallTimes","constructor","Map","size","internalGet","derivativeOption","updateCallTimes","map","forEach","derivative","undefined","get","value","has","set","targetKey","reduce","result","key","callTimes","delete","push","index","cacheValue","deleteByPath","currentCache","derivatives","slice","filter","item"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@ant-design/cssinjs/es/theme/ThemeCache.js"],"sourcesContent":["// ================================== Cache ==================================\n\nexport function sameDerivativeOption(left, right) {\n  if (left.length !== right.length) {\n    return false;\n  }\n  for (let i = 0; i < left.length; i++) {\n    if (left[i] !== right[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport default class ThemeCache {\n  static MAX_CACHE_SIZE = 20;\n  static MAX_CACHE_OFFSET = 5;\n  cache;\n  keys;\n  cacheCallTimes;\n  constructor() {\n    this.cache = new Map();\n    this.keys = [];\n    this.cacheCallTimes = 0;\n  }\n  size() {\n    return this.keys.length;\n  }\n  internalGet(derivativeOption, updateCallTimes = false) {\n    let cache = {\n      map: this.cache\n    };\n    derivativeOption.forEach(derivative => {\n      if (!cache) {\n        cache = undefined;\n      } else {\n        cache = cache?.map?.get(derivative);\n      }\n    });\n    if (cache?.value && updateCallTimes) {\n      cache.value[1] = this.cacheCallTimes++;\n    }\n    return cache?.value;\n  }\n  get(derivativeOption) {\n    return this.internalGet(derivativeOption, true)?.[0];\n  }\n  has(derivativeOption) {\n    return !!this.internalGet(derivativeOption);\n  }\n  set(derivativeOption, value) {\n    // New cache\n    if (!this.has(derivativeOption)) {\n      if (this.size() + 1 > ThemeCache.MAX_CACHE_SIZE + ThemeCache.MAX_CACHE_OFFSET) {\n        const [targetKey] = this.keys.reduce((result, key) => {\n          const [, callTimes] = result;\n          if (this.internalGet(key)[1] < callTimes) {\n            return [key, this.internalGet(key)[1]];\n          }\n          return result;\n        }, [this.keys[0], this.cacheCallTimes]);\n        this.delete(targetKey);\n      }\n      this.keys.push(derivativeOption);\n    }\n    let cache = this.cache;\n    derivativeOption.forEach((derivative, index) => {\n      if (index === derivativeOption.length - 1) {\n        cache.set(derivative, {\n          value: [value, this.cacheCallTimes++]\n        });\n      } else {\n        const cacheValue = cache.get(derivative);\n        if (!cacheValue) {\n          cache.set(derivative, {\n            map: new Map()\n          });\n        } else if (!cacheValue.map) {\n          cacheValue.map = new Map();\n        }\n        cache = cache.get(derivative).map;\n      }\n    });\n  }\n  deleteByPath(currentCache, derivatives) {\n    const cache = currentCache.get(derivatives[0]);\n    if (derivatives.length === 1) {\n      if (!cache.map) {\n        currentCache.delete(derivatives[0]);\n      } else {\n        currentCache.set(derivatives[0], {\n          map: cache.map\n        });\n      }\n      return cache.value?.[0];\n    }\n    const result = this.deleteByPath(cache.map, derivatives.slice(1));\n    if ((!cache.map || cache.map.size === 0) && !cache.value) {\n      currentCache.delete(derivatives[0]);\n    }\n    return result;\n  }\n  delete(derivativeOption) {\n    // If cache exists\n    if (this.has(derivativeOption)) {\n      this.keys = this.keys.filter(item => !sameDerivativeOption(item, derivativeOption));\n      return this.deleteByPath(this.cache, derivativeOption);\n    }\n    return undefined;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}