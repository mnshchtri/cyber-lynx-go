{"ast":null,"code":"import * as React from 'react';\nimport { COMMON_PROPS } from \"../common\";\n/**\n * Merge props provided `items` or context collected images\n */\nexport default function usePreviewItems(items) {\n  // Context collection image data\n  const [images, setImages] = React.useState({});\n  const registerImage = React.useCallback((id, data) => {\n    setImages(imgs => ({\n      ...imgs,\n      [id]: data\n    }));\n    return () => {\n      setImages(imgs => {\n        const cloneImgs = {\n          ...imgs\n        };\n        delete cloneImgs[id];\n        return cloneImgs;\n      });\n    };\n  }, []);\n\n  // items\n  const mergedItems = React.useMemo(() => {\n    // use `items` first\n    if (items) {\n      return items.map(item => {\n        if (typeof item === 'string') {\n          return {\n            data: {\n              src: item\n            }\n          };\n        }\n        const data = {};\n        Object.keys(item).forEach(key => {\n          if (['src', ...COMMON_PROPS].includes(key)) {\n            data[key] = item[key];\n          }\n        });\n        return {\n          data\n        };\n      });\n    }\n\n    // use registered images secondly\n    return Object.keys(images).reduce((total, id) => {\n      const {\n        canPreview,\n        data\n      } = images[id];\n      if (canPreview) {\n        total.push({\n          data,\n          id\n        });\n      }\n      return total;\n    }, []);\n  }, [items, images]);\n  return [mergedItems, registerImage, !!items];\n}","map":{"version":3,"names":["React","COMMON_PROPS","usePreviewItems","items","images","setImages","useState","registerImage","useCallback","id","data","imgs","cloneImgs","mergedItems","useMemo","map","item","src","Object","keys","forEach","key","includes","reduce","total","canPreview","push"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/image/es/hooks/usePreviewItems.js"],"sourcesContent":["import * as React from 'react';\nimport { COMMON_PROPS } from \"../common\";\n/**\n * Merge props provided `items` or context collected images\n */\nexport default function usePreviewItems(items) {\n  // Context collection image data\n  const [images, setImages] = React.useState({});\n  const registerImage = React.useCallback((id, data) => {\n    setImages(imgs => ({\n      ...imgs,\n      [id]: data\n    }));\n    return () => {\n      setImages(imgs => {\n        const cloneImgs = {\n          ...imgs\n        };\n        delete cloneImgs[id];\n        return cloneImgs;\n      });\n    };\n  }, []);\n\n  // items\n  const mergedItems = React.useMemo(() => {\n    // use `items` first\n    if (items) {\n      return items.map(item => {\n        if (typeof item === 'string') {\n          return {\n            data: {\n              src: item\n            }\n          };\n        }\n        const data = {};\n        Object.keys(item).forEach(key => {\n          if (['src', ...COMMON_PROPS].includes(key)) {\n            data[key] = item[key];\n          }\n        });\n        return {\n          data\n        };\n      });\n    }\n\n    // use registered images secondly\n    return Object.keys(images).reduce((total, id) => {\n      const {\n        canPreview,\n        data\n      } = images[id];\n      if (canPreview) {\n        total.push({\n          data,\n          id\n        });\n      }\n      return total;\n    }, []);\n  }, [items, images]);\n  return [mergedItems, registerImage, !!items];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,YAAY,QAAQ,WAAW;AACxC;AACA;AACA;AACA,eAAe,SAASC,eAAeA,CAACC,KAAK,EAAE;EAC7C;EACA,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAMC,aAAa,GAAGP,KAAK,CAACQ,WAAW,CAAC,CAACC,EAAE,EAAEC,IAAI,KAAK;IACpDL,SAAS,CAACM,IAAI,KAAK;MACjB,GAAGA,IAAI;MACP,CAACF,EAAE,GAAGC;IACR,CAAC,CAAC,CAAC;IACH,OAAO,MAAM;MACXL,SAAS,CAACM,IAAI,IAAI;QAChB,MAAMC,SAAS,GAAG;UAChB,GAAGD;QACL,CAAC;QACD,OAAOC,SAAS,CAACH,EAAE,CAAC;QACpB,OAAOG,SAAS;MAClB,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMC,WAAW,GAAGb,KAAK,CAACc,OAAO,CAAC,MAAM;IACtC;IACA,IAAIX,KAAK,EAAE;MACT,OAAOA,KAAK,CAACY,GAAG,CAACC,IAAI,IAAI;QACvB,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;UAC5B,OAAO;YACLN,IAAI,EAAE;cACJO,GAAG,EAAED;YACP;UACF,CAAC;QACH;QACA,MAAMN,IAAI,GAAG,CAAC,CAAC;QACfQ,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,OAAO,CAACC,GAAG,IAAI;UAC/B,IAAI,CAAC,KAAK,EAAE,GAAGpB,YAAY,CAAC,CAACqB,QAAQ,CAACD,GAAG,CAAC,EAAE;YAC1CX,IAAI,CAACW,GAAG,CAAC,GAAGL,IAAI,CAACK,GAAG,CAAC;UACvB;QACF,CAAC,CAAC;QACF,OAAO;UACLX;QACF,CAAC;MACH,CAAC,CAAC;IACJ;;IAEA;IACA,OAAOQ,MAAM,CAACC,IAAI,CAACf,MAAM,CAAC,CAACmB,MAAM,CAAC,CAACC,KAAK,EAAEf,EAAE,KAAK;MAC/C,MAAM;QACJgB,UAAU;QACVf;MACF,CAAC,GAAGN,MAAM,CAACK,EAAE,CAAC;MACd,IAAIgB,UAAU,EAAE;QACdD,KAAK,CAACE,IAAI,CAAC;UACThB,IAAI;UACJD;QACF,CAAC,CAAC;MACJ;MACA,OAAOe,KAAK;IACd,CAAC,EAAE,EAAE,CAAC;EACR,CAAC,EAAE,CAACrB,KAAK,EAAEC,MAAM,CAAC,CAAC;EACnB,OAAO,CAACS,WAAW,EAAEN,aAAa,EAAE,CAAC,CAACJ,KAAK,CAAC;AAC9C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}