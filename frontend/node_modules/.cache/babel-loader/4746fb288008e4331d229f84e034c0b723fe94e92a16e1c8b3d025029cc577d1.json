{"ast":null,"code":"var _jsxFileName = \"/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport ToolNode from './ToolNode';\nimport ToolConfigModal from './ToolConfigModal';\nimport ToolDropdown from './ToolDropdown';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WorkflowCanvas = ({\n  onNodesChange,\n  onConnectionsChange\n}) => {\n  _s();\n  const [nodes, setNodes] = useState([]);\n  const [connections, setConnections] = useState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [configModalOpen, setConfigModalOpen] = useState(false);\n  const [configTool, setConfigTool] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [connectingFrom, setConnectingFrom] = useState(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isPanning, setIsPanning] = useState(false);\n  const [panStart, setPanStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [workflowName, setWorkflowName] = useState('');\n  const [saveModalOpen, setSaveModalOpen] = useState(false);\n  const canvasRef = useRef(null);\n  const containerRef = useRef(null);\n  const nodeIdCounter = useRef(0);\n  const [availableTools, setAvailableTools] = useState([{\n    name: 'Nmap',\n    icon: 'nmap'\n  }, {\n    name: 'Subfinder',\n    icon: 'subfinder'\n  }, {\n    name: 'Dirsearch',\n    icon: 'dirsearch'\n  }, {\n    name: 'Ghauri',\n    icon: 'ghauri'\n  }]);\n\n  // Load workflow from localStorage on mount\n  useEffect(() => {\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    if (saved) {\n      try {\n        const workflows = JSON.parse(saved);\n        if (workflows.length > 0) {\n          // Load the most recent workflow\n          const latest = workflows[workflows.length - 1];\n          const loadedNodes = latest.nodes || [];\n          const loadedConnections = latest.connections || [];\n          setNodes(loadedNodes);\n          setConnections(loadedConnections);\n          setWorkflowName(latest.name || '');\n          if (latest.nodeIdCounter) {\n            nodeIdCounter.current = latest.nodeIdCounter;\n          }\n          if (onNodesChange) onNodesChange(loadedNodes);\n          if (onConnectionsChange) onConnectionsChange(loadedConnections);\n        }\n      } catch (e) {\n        console.error('Error loading workflow:', e);\n      }\n    }\n  }, []);\n  const addNode = (tool, position = null) => {\n    const toolName = typeof tool === 'string' ? tool : tool.name;\n    const newId = `node-${nodeIdCounter.current++}`;\n    const newNode = {\n      id: newId,\n      name: toolName,\n      position: position || {\n        x: 200,\n        y: 200\n      },\n      config: {},\n      customColor: typeof tool === 'object' && tool.color ? tool.color : null\n    };\n    const updated = [...nodes, newNode];\n    setNodes(updated);\n    if (onNodesChange) onNodesChange(updated);\n  };\n  const handleNodeClick = (node, e) => {\n    // If we're in connection mode, connect nodes instead of opening config\n    if (connectingFrom && connectingFrom !== node.id) {\n      const existingConnection = connections.find(conn => conn.from === connectingFrom && conn.to === node.id);\n      if (!existingConnection) {\n        const updated = [...connections, {\n          from: connectingFrom,\n          to: node.id\n        }];\n        setConnections(updated);\n        if (onConnectionsChange) onConnectionsChange(updated);\n      }\n      setConnectingFrom(null);\n      setSelectedNode(node.id);\n    } else if (e && e.detail === 2) {\n      // Double click to configure\n      setSelectedNode(node.id);\n      setConfigTool(node);\n      setConfigModalOpen(true);\n    } else {\n      // Single click to select and enable connection mode\n      setSelectedNode(node.id);\n      if (!connectingFrom || connectingFrom !== node.id) {\n        setConnectingFrom(node.id);\n      }\n    }\n  };\n  const handleSaveConfig = (nodeId, config) => {\n    setNodes(prevNodes => {\n      const updated = prevNodes.map(node => node.id === nodeId ? {\n        ...node,\n        config\n      } : node);\n      if (onNodesChange) onNodesChange(updated);\n      return updated;\n    });\n  };\n  const handleDeleteNode = nodeId => {\n    const updatedNodes = nodes.filter(node => node.id !== nodeId);\n    const updatedConnections = connections.filter(conn => conn.from !== nodeId && conn.to !== nodeId);\n    setNodes(updatedNodes);\n    setConnections(updatedConnections);\n    if (onNodesChange) onNodesChange(updatedNodes);\n    if (onConnectionsChange) onConnectionsChange(updatedConnections);\n    if (selectedNode === nodeId) {\n      setSelectedNode(null);\n    }\n  };\n  const handleNodeMouseDown = (nodeId, e) => {\n    e.stopPropagation();\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) {\n      var _containerRef$current;\n      setDragging(nodeId);\n      const rect = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.getBoundingClientRect();\n      if (rect) {\n        setDragOffset({\n          x: (e.clientX - rect.left - pan.x) / zoom - node.position.x,\n          y: (e.clientY - rect.top - pan.y) / zoom - node.position.y\n        });\n      }\n    }\n  };\n  const handleConnectionPointClick = (nodeId, pointType, e) => {\n    e.stopPropagation();\n    if (pointType === 'output') {\n      if (connectingFrom === nodeId) {\n        setConnectingFrom(null);\n        setSelectedNode(null);\n      } else {\n        setConnectingFrom(nodeId);\n        setSelectedNode(nodeId);\n      }\n    } else if (pointType === 'input' && connectingFrom && connectingFrom !== nodeId) {\n      const existingConnection = connections.find(conn => conn.from === connectingFrom && conn.to === nodeId);\n      if (!existingConnection) {\n        const updated = [...connections, {\n          from: connectingFrom,\n          to: nodeId\n        }];\n        setConnections(updated);\n        if (onConnectionsChange) onConnectionsChange(updated);\n      }\n      setConnectingFrom(null);\n      setSelectedNode(nodeId);\n    }\n  };\n  const handleMouseMove = e => {\n    if (isPanning && containerRef.current) {\n      const rect = containerRef.current.getBoundingClientRect();\n      setPan({\n        x: e.clientX - rect.left - panStart.x,\n        y: e.clientY - rect.top - panStart.y\n      });\n    } else if (dragging && containerRef.current) {\n      const rect = containerRef.current.getBoundingClientRect();\n      setNodes(prevNodes => prevNodes.map(node => node.id === dragging ? {\n        ...node,\n        position: {\n          x: (e.clientX - rect.left - pan.x) / zoom - dragOffset.x,\n          y: (e.clientY - rect.top - pan.y) / zoom - dragOffset.y\n        }\n      } : node));\n    }\n  };\n  const handleMouseDown = e => {\n    if (e.button === 1 || e.button === 0 && e.ctrlKey) {\n      var _containerRef$current2;\n      e.preventDefault();\n      setIsPanning(true);\n      const rect = (_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.getBoundingClientRect();\n      if (rect) {\n        setPanStart({\n          x: e.clientX - rect.left - pan.x,\n          y: e.clientY - rect.top - pan.y\n        });\n      }\n    }\n  };\n  const handleMouseUp = () => {\n    setDragging(null);\n    setIsPanning(false);\n  };\n  const handleWheel = e => {\n    var _containerRef$current3;\n    e.preventDefault();\n    const rect = (_containerRef$current3 = containerRef.current) === null || _containerRef$current3 === void 0 ? void 0 : _containerRef$current3.getBoundingClientRect();\n    if (rect) {\n      const mouseX = e.clientX - rect.left;\n      const mouseY = e.clientY - rect.top;\n      const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;\n      const newZoom = Math.max(0.3, Math.min(2, zoom * zoomFactor));\n      const zoomChange = newZoom / zoom;\n      setPan({\n        x: mouseX - (mouseX - pan.x) * zoomChange,\n        y: mouseY - (mouseY - pan.y) * zoomChange\n      });\n      setZoom(newZoom);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [dragging, dragOffset, isPanning, panStart, pan, zoom]);\n  const handleZoomIn = () => setZoom(prev => Math.min(2, prev + 0.1));\n  const handleZoomOut = () => setZoom(prev => Math.max(0.3, prev - 0.1));\n  const handleResetZoom = () => {\n    setZoom(1);\n    setPan({\n      x: 0,\n      y: 0\n    });\n  };\n  const handleSave = () => {\n    if (!workflowName.trim()) {\n      alert('Please enter a workflow name');\n      return;\n    }\n    const workflow = {\n      id: Date.now().toString(),\n      name: workflowName,\n      nodes,\n      connections,\n      nodeIdCounter: nodeIdCounter.current,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    let workflows = saved ? JSON.parse(saved) : [];\n\n    // Update existing or add new\n    const existingIndex = workflows.findIndex(w => w.name === workflowName);\n    if (existingIndex >= 0) {\n      workflows[existingIndex] = {\n        ...workflow,\n        id: workflows[existingIndex].id\n      };\n    } else {\n      workflows.push(workflow);\n    }\n    localStorage.setItem('cyberlynx-workflows', JSON.stringify(workflows));\n    setSaveModalOpen(false);\n    alert('Workflow saved successfully!');\n  };\n  const handleLoad = () => {\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    if (saved) {\n      try {\n        const workflows = JSON.parse(saved);\n        if (workflows.length > 0) {\n          const workflowNames = workflows.map(w => w.name);\n          const selected = prompt(`Enter workflow name to load:\\n\\nAvailable: ${workflowNames.join(', ')}`);\n          if (selected) {\n            const workflow = workflows.find(w => w.name === selected);\n            if (workflow) {\n              setNodes(workflow.nodes || []);\n              setConnections(workflow.connections || []);\n              setWorkflowName(workflow.name || '');\n              if (workflow.nodeIdCounter) {\n                nodeIdCounter.current = workflow.nodeIdCounter;\n              }\n              setZoom(1);\n              setPan({\n                x: 0,\n                y: 0\n              });\n            } else {\n              alert('Workflow not found');\n            }\n          }\n        } else {\n          alert('No saved workflows found');\n        }\n      } catch (e) {\n        alert('Error loading workflow');\n      }\n    } else {\n      alert('No saved workflows found');\n    }\n  };\n  const drawConnection = (fromNode, toNode) => {\n    const fromX = (fromNode.position.x + 60) * zoom + pan.x;\n    const fromY = (fromNode.position.y + 70) * zoom + pan.y;\n    const toX = (toNode.position.x + 60) * zoom + pan.x;\n    const toY = toNode.position.y * zoom + pan.y;\n    const midY = (fromY + toY) / 2;\n    return /*#__PURE__*/_jsxDEV(\"path\", {\n      d: `M ${fromX} ${fromY} C ${fromX} ${midY}, ${toX} ${midY}, ${toX} ${toY}`,\n      stroke: \"rgba(255, 109, 31, 0.5)\",\n      strokeWidth: 2 * zoom,\n      fill: \"none\",\n      markerEnd: \"url(#arrowhead)\",\n      className: \"cursor-pointer hover:stroke-primary transition-colors\"\n    }, `${fromNode.id}-${toNode.id}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 right-0 z-30 bg-surface-light border-b border-gray-200 dark:border-gray-700 px-4 py-2 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: workflowName,\n          onChange: e => setWorkflowName(e.target.value),\n          placeholder: \"Workflow name...\",\n          className: \"px-3 py-1.5 text-sm bg-background-primary border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-text-primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSaveModalOpen(true),\n          className: \"px-3 py-1.5 text-sm bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors flex items-center space-x-1.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLoad,\n          className: \"px-3 py-1.5 text-sm bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors flex items-center space-x-1.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Load\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleZoomOut,\n          className: \"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\",\n          title: \"Zoom Out\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-text-secondary min-w-[3rem] text-center\",\n          children: [Math.round(zoom * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleZoomIn,\n          className: \"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\",\n          title: \"Zoom In\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleResetZoom,\n          className: \"px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\",\n          title: \"Reset View\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-14 left-0 z-20 bg-surface-light border-r border-gray-200 dark:border-gray-700 p-3\",\n      children: [/*#__PURE__*/_jsxDEV(ToolDropdown, {\n        tools: availableTools,\n        onAddTool: (tool, position) => addNode(tool, position),\n        onCustomize: customTools => {\n          // Store custom tools\n          localStorage.setItem('cyberlynx-custom-tools', JSON.stringify(customTools));\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), nodes.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 border-t border-gray-200 dark:border-gray-700\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNodes([]);\n            setConnections([]);\n            setSelectedNode(null);\n            setConnectingFrom(null);\n            setWorkflowName('');\n          },\n          className: \"w-10 h-10 flex items-center justify-center bg-danger hover:bg-red-600 text-white rounded-lg transition-colors\",\n          title: \"Clear All\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      \"data-canvas\": \"true\",\n      className: \"absolute top-14 left-12 right-0 bottom-0 bg-background-primary overflow-hidden\",\n      style: {\n        cursor: isPanning ? 'grabbing' : 'default'\n      },\n      onMouseDown: handleMouseDown,\n      onWheel: handleWheel,\n      onClick: e => {\n        // Only clear selection if clicking on empty canvas (not on nodes)\n        if (e.target === e.currentTarget || e.target.getAttribute('data-canvas') === 'true') {\n          setSelectedNode(null);\n          setConnectingFrom(null);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"absolute inset-0 pointer-events-none\",\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: /*#__PURE__*/_jsxDEV(\"marker\", {\n            id: \"arrowhead\",\n            markerWidth: \"10\",\n            markerHeight: \"10\",\n            refX: \"9\",\n            refY: \"3\",\n            orient: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n              points: \"0 0, 10 3, 0 6\",\n              fill: \"rgba(255, 109, 31, 0.5)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), connections.map((conn, index) => {\n          const fromNode = nodes.find(n => n.id === conn.from);\n          const toNode = nodes.find(n => n.id === conn.to);\n          if (fromNode && toNode) {\n            return /*#__PURE__*/_jsxDEV(\"g\", {\n              children: [drawConnection(fromNode, toNode), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: `M ${(fromNode.position.x + 60) * zoom + pan.x} ${(fromNode.position.y + 70) * zoom + pan.y} C ${(fromNode.position.x + 60) * zoom + pan.x} ${((fromNode.position.y + 70) * zoom + pan.y + toNode.position.y * zoom + pan.y) / 2}, ${(toNode.position.x + 60) * zoom + pan.x} ${((fromNode.position.y + 70) * zoom + pan.y + toNode.position.y * zoom + pan.y) / 2}, ${(toNode.position.x + 60) * zoom + pan.x} ${toNode.position.y * zoom + pan.y}`,\n                stroke: \"transparent\",\n                strokeWidth: 20 * zoom,\n                fill: \"none\",\n                className: \"cursor-pointer pointer-events-auto\",\n                onClick: e => {\n                  e.stopPropagation();\n                  if (e.detail === 2) {\n                    const updated = connections.filter((c, i) => i !== index);\n                    setConnections(updated);\n                    if (onConnectionsChange) onConnectionsChange(updated);\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this)]\n            }, `${conn.from}-${conn.to}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this);\n          }\n          return null;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: canvasRef,\n        \"data-transform\": \"true\",\n        className: \"absolute\",\n        style: {\n          transform: `translate(${pan.x}px, ${pan.y}px) scale(${zoom})`,\n          transformOrigin: '0 0'\n        },\n        children: nodes.map(node => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(ToolNode, {\n            tool: node,\n            position: node.position,\n            onClick: e => handleNodeClick(node, e),\n            isSelected: selectedNode === node.id,\n            onConnectionPointClick: handleConnectionPointClick,\n            isConnectingFrom: connectingFrom === node.id,\n            isWaitingForConnection: connectingFrom !== null && connectingFrom !== node.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), selectedNode === node.id && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              handleDeleteNode(node.id);\n            },\n            className: \"absolute -top-2 -right-2 w-5 h-5 bg-danger hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg z-20 transition-all duration-200\",\n            style: {\n              left: `${node.position.x + 120}px`,\n              top: `${node.position.y}px`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-3 h-3\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute cursor-move\",\n            style: {\n              left: `${node.position.x}px`,\n              top: `${node.position.y}px`,\n              width: '120px',\n              height: '60px'\n            },\n            onMouseDown: e => {\n              // Only start dragging if not clicking on connection points or buttons\n              if (e.target === e.currentTarget || !e.target.closest('[class*=\"connection\"]') && !e.target.closest('button') && e.button === 0) {\n                handleNodeMouseDown(node.id, e);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)]\n        }, node.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), nodes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-16 h-16 mx-auto text-text-secondary opacity-30 mb-3\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-text-secondary text-sm font-medium\",\n            children: \"Empty canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-text-secondary text-xs mt-1 opacity-70\",\n            children: \"Add tools from the sidebar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 11\n      }, this), nodes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-3 right-3 z-10 bg-surface-light bg-opacity-90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-text-secondary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ctrl + Drag to pan\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Scroll to zoom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this), connectingFrom && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-primary font-semibold flex items-center space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-3 h-3 animate-pulse\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: \"2\",\n                d: \"M13 10V3L4 14h7v7l9-11h-7z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Click on another node to connect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this), configTool && /*#__PURE__*/_jsxDEV(ToolConfigModal, {\n      tool: configTool,\n      isOpen: configModalOpen,\n      onClose: () => {\n        setConfigModalOpen(false);\n        setConfigTool(null);\n      },\n      onSave: handleSaveConfig\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 9\n    }, this), saveModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      onClick: () => setSaveModalOpen(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-surface-light rounded-xl p-6 max-w-md w-full mx-4\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-text-primary mb-4\",\n          children: \"Save Workflow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: workflowName,\n          onChange: e => setWorkflowName(e.target.value),\n          placeholder: \"Enter workflow name...\",\n          className: \"w-full px-3 py-2 bg-background-primary border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-text-primary mb-4\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSaveModalOpen(false),\n            className: \"px-4 py-2 text-sm bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSave,\n            className: \"px-4 py-2 text-sm bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkflowCanvas, \"wxJu4fkKCjTp3R8RHn+lci9kIys=\");\n_c = WorkflowCanvas;\nexport default WorkflowCanvas;\nvar _c;\n$RefreshReg$(_c, \"WorkflowCanvas\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ToolNode","ToolConfigModal","ToolDropdown","jsxDEV","_jsxDEV","Fragment","_Fragment","WorkflowCanvas","onNodesChange","onConnectionsChange","_s","nodes","setNodes","connections","setConnections","selectedNode","setSelectedNode","configModalOpen","setConfigModalOpen","configTool","setConfigTool","dragging","setDragging","dragOffset","setDragOffset","x","y","connectingFrom","setConnectingFrom","zoom","setZoom","pan","setPan","isPanning","setIsPanning","panStart","setPanStart","workflowName","setWorkflowName","saveModalOpen","setSaveModalOpen","canvasRef","containerRef","nodeIdCounter","availableTools","setAvailableTools","name","icon","saved","localStorage","getItem","workflows","JSON","parse","length","latest","loadedNodes","loadedConnections","current","e","console","error","addNode","tool","position","toolName","newId","newNode","id","config","customColor","color","updated","handleNodeClick","node","existingConnection","find","conn","from","to","detail","handleSaveConfig","nodeId","prevNodes","map","handleDeleteNode","updatedNodes","filter","updatedConnections","handleNodeMouseDown","stopPropagation","n","_containerRef$current","rect","getBoundingClientRect","clientX","left","clientY","top","handleConnectionPointClick","pointType","handleMouseMove","handleMouseDown","button","ctrlKey","_containerRef$current2","preventDefault","handleMouseUp","handleWheel","_containerRef$current3","mouseX","mouseY","zoomFactor","deltaY","newZoom","Math","max","min","zoomChange","window","addEventListener","removeEventListener","handleZoomIn","prev","handleZoomOut","handleResetZoom","handleSave","trim","alert","workflow","Date","now","toString","createdAt","toISOString","updatedAt","existingIndex","findIndex","w","push","setItem","stringify","handleLoad","workflowNames","selected","prompt","join","drawConnection","fromNode","toNode","fromX","fromY","toX","toY","midY","d","stroke","strokeWidth","fill","markerEnd","className","fileName","_jsxFileName","lineNumber","columnNumber","children","type","value","onChange","target","placeholder","onClick","viewBox","strokeLinecap","strokeLinejoin","title","round","tools","onAddTool","onCustomize","customTools","ref","style","cursor","onMouseDown","onWheel","currentTarget","getAttribute","width","height","markerWidth","markerHeight","refX","refY","orient","points","index","c","i","transform","transformOrigin","isSelected","onConnectionPointClick","isConnectingFrom","isWaitingForConnection","closest","isOpen","onClose","onSave","autoFocus","_c","$RefreshReg$"],"sources":["/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowCanvas.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport ToolNode from './ToolNode';\nimport ToolConfigModal from './ToolConfigModal';\nimport ToolDropdown from './ToolDropdown';\n\nconst WorkflowCanvas = ({ onNodesChange, onConnectionsChange }) => {\n  const [nodes, setNodes] = useState([]);\n  const [connections, setConnections] = useState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [configModalOpen, setConfigModalOpen] = useState(false);\n  const [configTool, setConfigTool] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [connectingFrom, setConnectingFrom] = useState(null);\n  const [zoom, setZoom] = useState(1);\n  const [pan, setPan] = useState({ x: 0, y: 0 });\n  const [isPanning, setIsPanning] = useState(false);\n  const [panStart, setPanStart] = useState({ x: 0, y: 0 });\n  const [workflowName, setWorkflowName] = useState('');\n  const [saveModalOpen, setSaveModalOpen] = useState(false);\n  const canvasRef = useRef(null);\n  const containerRef = useRef(null);\n  const nodeIdCounter = useRef(0);\n\n  const [availableTools, setAvailableTools] = useState([\n    { name: 'Nmap', icon: 'nmap' },\n    { name: 'Subfinder', icon: 'subfinder' },\n    { name: 'Dirsearch', icon: 'dirsearch' },\n    { name: 'Ghauri', icon: 'ghauri' }\n  ]);\n\n  // Load workflow from localStorage on mount\n  useEffect(() => {\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    if (saved) {\n      try {\n        const workflows = JSON.parse(saved);\n        if (workflows.length > 0) {\n          // Load the most recent workflow\n          const latest = workflows[workflows.length - 1];\n          const loadedNodes = latest.nodes || [];\n          const loadedConnections = latest.connections || [];\n          setNodes(loadedNodes);\n          setConnections(loadedConnections);\n          setWorkflowName(latest.name || '');\n          if (latest.nodeIdCounter) {\n            nodeIdCounter.current = latest.nodeIdCounter;\n          }\n          if (onNodesChange) onNodesChange(loadedNodes);\n          if (onConnectionsChange) onConnectionsChange(loadedConnections);\n        }\n      } catch (e) {\n        console.error('Error loading workflow:', e);\n      }\n    }\n  }, []);\n\n  const addNode = (tool, position = null) => {\n    const toolName = typeof tool === 'string' ? tool : tool.name;\n    const newId = `node-${nodeIdCounter.current++}`;\n    const newNode = {\n      id: newId,\n      name: toolName,\n      position: position || {\n        x: 200,\n        y: 200\n      },\n      config: {},\n      customColor: typeof tool === 'object' && tool.color ? tool.color : null\n    };\n    const updated = [...nodes, newNode];\n    setNodes(updated);\n    if (onNodesChange) onNodesChange(updated);\n  };\n\n  const handleNodeClick = (node, e) => {\n    // If we're in connection mode, connect nodes instead of opening config\n    if (connectingFrom && connectingFrom !== node.id) {\n      const existingConnection = connections.find(\n        conn => conn.from === connectingFrom && conn.to === node.id\n      );\n      if (!existingConnection) {\n        const updated = [...connections, { from: connectingFrom, to: node.id }];\n        setConnections(updated);\n        if (onConnectionsChange) onConnectionsChange(updated);\n      }\n      setConnectingFrom(null);\n      setSelectedNode(node.id);\n    } else if (e && e.detail === 2) {\n      // Double click to configure\n      setSelectedNode(node.id);\n      setConfigTool(node);\n      setConfigModalOpen(true);\n    } else {\n      // Single click to select and enable connection mode\n      setSelectedNode(node.id);\n      if (!connectingFrom || connectingFrom !== node.id) {\n        setConnectingFrom(node.id);\n      }\n    }\n  };\n\n  const handleSaveConfig = (nodeId, config) => {\n    setNodes(prevNodes => {\n      const updated = prevNodes.map(node =>\n        node.id === nodeId ? { ...node, config } : node\n      );\n      if (onNodesChange) onNodesChange(updated);\n      return updated;\n    });\n  };\n\n  const handleDeleteNode = (nodeId) => {\n    const updatedNodes = nodes.filter(node => node.id !== nodeId);\n    const updatedConnections = connections.filter(conn => conn.from !== nodeId && conn.to !== nodeId);\n    setNodes(updatedNodes);\n    setConnections(updatedConnections);\n    if (onNodesChange) onNodesChange(updatedNodes);\n    if (onConnectionsChange) onConnectionsChange(updatedConnections);\n    if (selectedNode === nodeId) {\n      setSelectedNode(null);\n    }\n  };\n\n  const handleNodeMouseDown = (nodeId, e) => {\n    e.stopPropagation();\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) {\n      setDragging(nodeId);\n      const rect = containerRef.current?.getBoundingClientRect();\n      if (rect) {\n        setDragOffset({\n          x: (e.clientX - rect.left - pan.x) / zoom - node.position.x,\n          y: (e.clientY - rect.top - pan.y) / zoom - node.position.y\n        });\n      }\n    }\n  };\n\n  const handleConnectionPointClick = (nodeId, pointType, e) => {\n    e.stopPropagation();\n    if (pointType === 'output') {\n      if (connectingFrom === nodeId) {\n        setConnectingFrom(null);\n        setSelectedNode(null);\n      } else {\n        setConnectingFrom(nodeId);\n        setSelectedNode(nodeId);\n      }\n    } else if (pointType === 'input' && connectingFrom && connectingFrom !== nodeId) {\n      const existingConnection = connections.find(\n        conn => conn.from === connectingFrom && conn.to === nodeId\n      );\n      if (!existingConnection) {\n        const updated = [...connections, { from: connectingFrom, to: nodeId }];\n        setConnections(updated);\n        if (onConnectionsChange) onConnectionsChange(updated);\n      }\n      setConnectingFrom(null);\n      setSelectedNode(nodeId);\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (isPanning && containerRef.current) {\n      const rect = containerRef.current.getBoundingClientRect();\n      setPan({\n        x: e.clientX - rect.left - panStart.x,\n        y: e.clientY - rect.top - panStart.y\n      });\n    } else if (dragging && containerRef.current) {\n      const rect = containerRef.current.getBoundingClientRect();\n      setNodes(prevNodes =>\n        prevNodes.map(node =>\n          node.id === dragging\n            ? {\n                ...node,\n                position: {\n                  x: (e.clientX - rect.left - pan.x) / zoom - dragOffset.x,\n                  y: (e.clientY - rect.top - pan.y) / zoom - dragOffset.y\n                }\n              }\n            : node\n        )\n      );\n    }\n  };\n\n  const handleMouseDown = (e) => {\n    if (e.button === 1 || (e.button === 0 && e.ctrlKey)) {\n      e.preventDefault();\n      setIsPanning(true);\n      const rect = containerRef.current?.getBoundingClientRect();\n      if (rect) {\n        setPanStart({\n          x: e.clientX - rect.left - pan.x,\n          y: e.clientY - rect.top - pan.y\n        });\n      }\n    }\n  };\n\n  const handleMouseUp = () => {\n    setDragging(null);\n    setIsPanning(false);\n  };\n\n  const handleWheel = (e) => {\n    e.preventDefault();\n    const rect = containerRef.current?.getBoundingClientRect();\n    if (rect) {\n      const mouseX = e.clientX - rect.left;\n      const mouseY = e.clientY - rect.top;\n      \n      const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;\n      const newZoom = Math.max(0.3, Math.min(2, zoom * zoomFactor));\n      \n      const zoomChange = newZoom / zoom;\n      setPan({\n        x: mouseX - (mouseX - pan.x) * zoomChange,\n        y: mouseY - (mouseY - pan.y) * zoomChange\n      });\n      setZoom(newZoom);\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [dragging, dragOffset, isPanning, panStart, pan, zoom]);\n\n  const handleZoomIn = () => setZoom(prev => Math.min(2, prev + 0.1));\n  const handleZoomOut = () => setZoom(prev => Math.max(0.3, prev - 0.1));\n  const handleResetZoom = () => {\n    setZoom(1);\n    setPan({ x: 0, y: 0 });\n  };\n\n  const handleSave = () => {\n    if (!workflowName.trim()) {\n      alert('Please enter a workflow name');\n      return;\n    }\n    \n    const workflow = {\n      id: Date.now().toString(),\n      name: workflowName,\n      nodes,\n      connections,\n      nodeIdCounter: nodeIdCounter.current,\n      createdAt: new Date().toISOString(),\n      updatedAt: new Date().toISOString()\n    };\n\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    let workflows = saved ? JSON.parse(saved) : [];\n    \n    // Update existing or add new\n    const existingIndex = workflows.findIndex(w => w.name === workflowName);\n    if (existingIndex >= 0) {\n      workflows[existingIndex] = { ...workflow, id: workflows[existingIndex].id };\n    } else {\n      workflows.push(workflow);\n    }\n    \n    localStorage.setItem('cyberlynx-workflows', JSON.stringify(workflows));\n    setSaveModalOpen(false);\n    alert('Workflow saved successfully!');\n  };\n\n  const handleLoad = () => {\n    const saved = localStorage.getItem('cyberlynx-workflows');\n    if (saved) {\n      try {\n        const workflows = JSON.parse(saved);\n        if (workflows.length > 0) {\n          const workflowNames = workflows.map(w => w.name);\n          const selected = prompt(`Enter workflow name to load:\\n\\nAvailable: ${workflowNames.join(', ')}`);\n          if (selected) {\n            const workflow = workflows.find(w => w.name === selected);\n            if (workflow) {\n              setNodes(workflow.nodes || []);\n              setConnections(workflow.connections || []);\n              setWorkflowName(workflow.name || '');\n              if (workflow.nodeIdCounter) {\n                nodeIdCounter.current = workflow.nodeIdCounter;\n              }\n              setZoom(1);\n              setPan({ x: 0, y: 0 });\n            } else {\n              alert('Workflow not found');\n            }\n          }\n        } else {\n          alert('No saved workflows found');\n        }\n      } catch (e) {\n        alert('Error loading workflow');\n      }\n    } else {\n      alert('No saved workflows found');\n    }\n  };\n\n  const drawConnection = (fromNode, toNode) => {\n    const fromX = (fromNode.position.x + 60) * zoom + pan.x;\n    const fromY = (fromNode.position.y + 70) * zoom + pan.y;\n    const toX = (toNode.position.x + 60) * zoom + pan.x;\n    const toY = toNode.position.y * zoom + pan.y;\n\n    const midY = (fromY + toY) / 2;\n\n    return (\n      <path\n        key={`${fromNode.id}-${toNode.id}`}\n        d={`M ${fromX} ${fromY} C ${fromX} ${midY}, ${toX} ${midY}, ${toX} ${toY}`}\n        stroke=\"rgba(255, 109, 31, 0.5)\"\n        strokeWidth={2 * zoom}\n        fill=\"none\"\n        markerEnd=\"url(#arrowhead)\"\n        className=\"cursor-pointer hover:stroke-primary transition-colors\"\n      />\n    );\n  };\n\n  return (\n    <div className=\"relative w-full h-full\">\n      {/* Top Bar - Minimalist */}\n      <div className=\"absolute top-0 left-0 right-0 z-30 bg-surface-light border-b border-gray-200 dark:border-gray-700 px-4 py-2 flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <input\n            type=\"text\"\n            value={workflowName}\n            onChange={(e) => setWorkflowName(e.target.value)}\n            placeholder=\"Workflow name...\"\n            className=\"px-3 py-1.5 text-sm bg-background-primary border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-text-primary\"\n          />\n          <button\n            onClick={() => setSaveModalOpen(true)}\n            className=\"px-3 py-1.5 text-sm bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors flex items-center space-x-1.5\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\" />\n            </svg>\n            <span>Save</span>\n          </button>\n          <button\n            onClick={handleLoad}\n            className=\"px-3 py-1.5 text-sm bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors flex items-center space-x-1.5\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\" />\n            </svg>\n            <span>Load</span>\n          </button>\n        </div>\n        \n        {/* Zoom Controls */}\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={handleZoomOut}\n            className=\"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\"\n            title=\"Zoom Out\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7\" />\n            </svg>\n          </button>\n          <span className=\"text-xs text-text-secondary min-w-[3rem] text-center\">{Math.round(zoom * 100)}%</span>\n          <button\n            onClick={handleZoomIn}\n            className=\"w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\"\n            title=\"Zoom In\"\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7\" />\n            </svg>\n          </button>\n          <button\n            onClick={handleResetZoom}\n            className=\"px-2 py-1 text-xs bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\"\n            title=\"Reset View\"\n          >\n            Reset\n          </button>\n        </div>\n      </div>\n\n      {/* Toolbar - Minimalist Sidebar with Dropdown */}\n      <div className=\"absolute top-14 left-0 z-20 bg-surface-light border-r border-gray-200 dark:border-gray-700 p-3\">\n        <ToolDropdown \n          tools={availableTools} \n          onAddTool={(tool, position) => addNode(tool, position)}\n          onCustomize={(customTools) => {\n            // Store custom tools\n            localStorage.setItem('cyberlynx-custom-tools', JSON.stringify(customTools));\n          }}\n        />\n        {nodes.length > 0 && (\n          <>\n            <div className=\"my-3 border-t border-gray-200 dark:border-gray-700\"></div>\n            <button\n              onClick={() => {\n                setNodes([]);\n                setConnections([]);\n                setSelectedNode(null);\n                setConnectingFrom(null);\n                setWorkflowName('');\n              }}\n              className=\"w-10 h-10 flex items-center justify-center bg-danger hover:bg-red-600 text-white rounded-lg transition-colors\"\n              title=\"Clear All\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\n              </svg>\n            </button>\n          </>\n        )}\n      </div>\n\n      {/* Canvas Container */}\n      <div\n        ref={containerRef}\n        data-canvas=\"true\"\n        className=\"absolute top-14 left-12 right-0 bottom-0 bg-background-primary overflow-hidden\"\n        style={{ cursor: isPanning ? 'grabbing' : 'default' }}\n        onMouseDown={handleMouseDown}\n        onWheel={handleWheel}\n        onClick={(e) => {\n          // Only clear selection if clicking on empty canvas (not on nodes)\n          if (e.target === e.currentTarget || e.target.getAttribute('data-canvas') === 'true') {\n            setSelectedNode(null);\n            setConnectingFrom(null);\n          }\n        }}\n      >\n        {/* SVG for connections */}\n        <svg className=\"absolute inset-0 pointer-events-none\" style={{ width: '100%', height: '100%' }}>\n          <defs>\n            <marker\n              id=\"arrowhead\"\n              markerWidth=\"10\"\n              markerHeight=\"10\"\n              refX=\"9\"\n              refY=\"3\"\n              orient=\"auto\"\n            >\n              <polygon\n                points=\"0 0, 10 3, 0 6\"\n                fill=\"rgba(255, 109, 31, 0.5)\"\n              />\n            </marker>\n          </defs>\n          {connections.map((conn, index) => {\n            const fromNode = nodes.find(n => n.id === conn.from);\n            const toNode = nodes.find(n => n.id === conn.to);\n            if (fromNode && toNode) {\n              return (\n                <g key={`${conn.from}-${conn.to}-${index}`}>\n                  {drawConnection(fromNode, toNode)}\n                  <path\n                    d={`M ${(fromNode.position.x + 60) * zoom + pan.x} ${(fromNode.position.y + 70) * zoom + pan.y} C ${(fromNode.position.x + 60) * zoom + pan.x} ${((fromNode.position.y + 70) * zoom + pan.y + toNode.position.y * zoom + pan.y) / 2}, ${(toNode.position.x + 60) * zoom + pan.x} ${((fromNode.position.y + 70) * zoom + pan.y + toNode.position.y * zoom + pan.y) / 2}, ${(toNode.position.x + 60) * zoom + pan.x} ${toNode.position.y * zoom + pan.y}`}\n                    stroke=\"transparent\"\n                    strokeWidth={20 * zoom}\n                    fill=\"none\"\n                    className=\"cursor-pointer pointer-events-auto\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      if (e.detail === 2) {\n                        const updated = connections.filter((c, i) => i !== index);\n                        setConnections(updated);\n                        if (onConnectionsChange) onConnectionsChange(updated);\n                      }\n                    }}\n                  />\n                </g>\n              );\n            }\n            return null;\n          })}\n        </svg>\n\n        {/* Transform Container for Zoom/Pan */}\n        <div\n          ref={canvasRef}\n          data-transform=\"true\"\n          className=\"absolute\"\n          style={{\n            transform: `translate(${pan.x}px, ${pan.y}px) scale(${zoom})`,\n            transformOrigin: '0 0'\n          }}\n        >\n          {/* Nodes */}\n          {nodes.map((node) => (\n            <div key={node.id} className=\"relative\">\n            <ToolNode\n              tool={node}\n              position={node.position}\n              onClick={(e) => handleNodeClick(node, e)}\n              isSelected={selectedNode === node.id}\n              onConnectionPointClick={handleConnectionPointClick}\n              isConnectingFrom={connectingFrom === node.id}\n              isWaitingForConnection={connectingFrom !== null && connectingFrom !== node.id}\n            />\n              {selectedNode === node.id && (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleDeleteNode(node.id);\n                  }}\n                  className=\"absolute -top-2 -right-2 w-5 h-5 bg-danger hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg z-20 transition-all duration-200\"\n                  style={{\n                    left: `${node.position.x + 120}px`,\n                    top: `${node.position.y}px`\n                  }}\n                >\n                  <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                  </svg>\n                </button>\n              )}\n              <div\n                className=\"absolute cursor-move\"\n                style={{\n                  left: `${node.position.x}px`,\n                  top: `${node.position.y}px`,\n                  width: '120px',\n                  height: '60px'\n                }}\n                onMouseDown={(e) => {\n                  // Only start dragging if not clicking on connection points or buttons\n                  if (e.target === e.currentTarget || \n                      (!e.target.closest('[class*=\"connection\"]') && \n                       !e.target.closest('button') &&\n                       e.button === 0)) {\n                    handleNodeMouseDown(node.id, e);\n                  }\n                }}\n              ></div>\n            </div>\n          ))}\n        </div>\n\n        {/* Empty state */}\n        {nodes.length === 0 && (\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <svg className=\"w-16 h-16 mx-auto text-text-secondary opacity-30 mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\n              </svg>\n              <p className=\"text-text-secondary text-sm font-medium\">Empty canvas</p>\n              <p className=\"text-text-secondary text-xs mt-1 opacity-70\">Add tools from the sidebar</p>\n            </div>\n          </div>\n        )}\n\n        {/* Minimalist Help */}\n        {nodes.length > 0 && (\n          <div className=\"absolute bottom-3 right-3 z-10 bg-surface-light bg-opacity-90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-text-secondary\">\n            <div className=\"flex flex-col space-y-1\">\n              <div className=\"flex items-center space-x-4\">\n                <span>Ctrl + Drag to pan</span>\n                <span></span>\n                <span>Scroll to zoom</span>\n              </div>\n              {connectingFrom && (\n                <div className=\"text-primary font-semibold flex items-center space-x-1\">\n                  <svg className=\"w-3 h-3 animate-pulse\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                  <span>Click on another node to connect</span>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Configuration Modal */}\n      {configTool && (\n        <ToolConfigModal\n          tool={configTool}\n          isOpen={configModalOpen}\n          onClose={() => {\n            setConfigModalOpen(false);\n            setConfigTool(null);\n          }}\n          onSave={handleSaveConfig}\n        />\n      )}\n\n      {/* Save Modal */}\n      {saveModalOpen && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onClick={() => setSaveModalOpen(false)}>\n          <div className=\"bg-surface-light rounded-xl p-6 max-w-md w-full mx-4\" onClick={(e) => e.stopPropagation()}>\n            <h3 className=\"text-lg font-semibold text-text-primary mb-4\">Save Workflow</h3>\n            <input\n              type=\"text\"\n              value={workflowName}\n              onChange={(e) => setWorkflowName(e.target.value)}\n              placeholder=\"Enter workflow name...\"\n              className=\"w-full px-3 py-2 bg-background-primary border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-text-primary mb-4\"\n              autoFocus\n            />\n            <div className=\"flex justify-end space-x-2\">\n              <button\n                onClick={() => setSaveModalOpen(false)}\n                className=\"px-4 py-2 text-sm bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-text-primary rounded-lg transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSave}\n                className=\"px-4 py-2 text-sm bg-primary hover:bg-primary-dark text-white rounded-lg transition-colors\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WorkflowCanvas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}