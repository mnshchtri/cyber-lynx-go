{"ast":null,"code":"import * as React from 'react';\nimport { useForm as useRcForm } from '@rc-component/form';\nimport { getDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { getFieldId, toArray } from '../util';\nexport function toNamePathStr(name) {\n  const namePath = toArray(name);\n  return namePath.join('_');\n}\nfunction getFieldDOMNode(name, wrapForm) {\n  const field = wrapForm.getFieldInstance(name);\n  const fieldDom = getDOM(field);\n  if (fieldDom) {\n    return fieldDom;\n  }\n  const fieldId = getFieldId(toArray(name), wrapForm.__INTERNAL__.name);\n  if (fieldId) {\n    return document.getElementById(fieldId);\n  }\n}\nexport default function useForm(form) {\n  const [rcForm] = useRcForm();\n  const itemsRef = React.useRef({});\n  const wrapForm = React.useMemo(() => form ?? {\n    ...rcForm,\n    __INTERNAL__: {\n      itemRef: name => node => {\n        const namePathStr = toNamePathStr(name);\n        if (node) {\n          itemsRef.current[namePathStr] = node;\n        } else {\n          delete itemsRef.current[namePathStr];\n        }\n      }\n    },\n    scrollToField: (name, options = {}) => {\n      const {\n        focus,\n        ...restOpt\n      } = options;\n      const node = getFieldDOMNode(name, wrapForm);\n      if (node) {\n        scrollIntoView(node, {\n          scrollMode: 'if-needed',\n          block: 'nearest',\n          ...restOpt\n        });\n        // Focus if scroll success\n        if (focus) {\n          wrapForm.focusField(name);\n        }\n      }\n    },\n    focusField: name => {\n      const itemRef = wrapForm.getFieldInstance(name);\n      if (typeof itemRef?.focus === 'function') {\n        itemRef.focus();\n      } else {\n        getFieldDOMNode(name, wrapForm)?.focus?.();\n      }\n    },\n    getFieldInstance: name => {\n      const namePathStr = toNamePathStr(name);\n      return itemsRef.current[namePathStr];\n    }\n  }, [form, rcForm]);\n  return [wrapForm];\n}","map":{"version":3,"names":["React","useForm","useRcForm","getDOM","scrollIntoView","getFieldId","toArray","toNamePathStr","name","namePath","join","getFieldDOMNode","wrapForm","field","getFieldInstance","fieldDom","fieldId","__INTERNAL__","document","getElementById","form","rcForm","itemsRef","useRef","useMemo","itemRef","node","namePathStr","current","scrollToField","options","focus","restOpt","scrollMode","block","focusField"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/antd/es/form/hooks/useForm.js"],"sourcesContent":["import * as React from 'react';\nimport { useForm as useRcForm } from '@rc-component/form';\nimport { getDOM } from \"@rc-component/util/es/Dom/findDOMNode\";\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { getFieldId, toArray } from '../util';\nexport function toNamePathStr(name) {\n  const namePath = toArray(name);\n  return namePath.join('_');\n}\nfunction getFieldDOMNode(name, wrapForm) {\n  const field = wrapForm.getFieldInstance(name);\n  const fieldDom = getDOM(field);\n  if (fieldDom) {\n    return fieldDom;\n  }\n  const fieldId = getFieldId(toArray(name), wrapForm.__INTERNAL__.name);\n  if (fieldId) {\n    return document.getElementById(fieldId);\n  }\n}\nexport default function useForm(form) {\n  const [rcForm] = useRcForm();\n  const itemsRef = React.useRef({});\n  const wrapForm = React.useMemo(() => form ?? {\n    ...rcForm,\n    __INTERNAL__: {\n      itemRef: name => node => {\n        const namePathStr = toNamePathStr(name);\n        if (node) {\n          itemsRef.current[namePathStr] = node;\n        } else {\n          delete itemsRef.current[namePathStr];\n        }\n      }\n    },\n    scrollToField: (name, options = {}) => {\n      const {\n        focus,\n        ...restOpt\n      } = options;\n      const node = getFieldDOMNode(name, wrapForm);\n      if (node) {\n        scrollIntoView(node, {\n          scrollMode: 'if-needed',\n          block: 'nearest',\n          ...restOpt\n        });\n        // Focus if scroll success\n        if (focus) {\n          wrapForm.focusField(name);\n        }\n      }\n    },\n    focusField: name => {\n      const itemRef = wrapForm.getFieldInstance(name);\n      if (typeof itemRef?.focus === 'function') {\n        itemRef.focus();\n      } else {\n        getFieldDOMNode(name, wrapForm)?.focus?.();\n      }\n    },\n    getFieldInstance: name => {\n      const namePathStr = toNamePathStr(name);\n      return itemsRef.current[namePathStr];\n    }\n  }, [form, rcForm]);\n  return [wrapForm];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,IAAIC,SAAS,QAAQ,oBAAoB;AACzD,SAASC,MAAM,QAAQ,uCAAuC;AAC9D,OAAOC,cAAc,MAAM,4BAA4B;AACvD,SAASC,UAAU,EAAEC,OAAO,QAAQ,SAAS;AAC7C,OAAO,SAASC,aAAaA,CAACC,IAAI,EAAE;EAClC,MAAMC,QAAQ,GAAGH,OAAO,CAACE,IAAI,CAAC;EAC9B,OAAOC,QAAQ,CAACC,IAAI,CAAC,GAAG,CAAC;AAC3B;AACA,SAASC,eAAeA,CAACH,IAAI,EAAEI,QAAQ,EAAE;EACvC,MAAMC,KAAK,GAAGD,QAAQ,CAACE,gBAAgB,CAACN,IAAI,CAAC;EAC7C,MAAMO,QAAQ,GAAGZ,MAAM,CAACU,KAAK,CAAC;EAC9B,IAAIE,QAAQ,EAAE;IACZ,OAAOA,QAAQ;EACjB;EACA,MAAMC,OAAO,GAAGX,UAAU,CAACC,OAAO,CAACE,IAAI,CAAC,EAAEI,QAAQ,CAACK,YAAY,CAACT,IAAI,CAAC;EACrE,IAAIQ,OAAO,EAAE;IACX,OAAOE,QAAQ,CAACC,cAAc,CAACH,OAAO,CAAC;EACzC;AACF;AACA,eAAe,SAASf,OAAOA,CAACmB,IAAI,EAAE;EACpC,MAAM,CAACC,MAAM,CAAC,GAAGnB,SAAS,CAAC,CAAC;EAC5B,MAAMoB,QAAQ,GAAGtB,KAAK,CAACuB,MAAM,CAAC,CAAC,CAAC,CAAC;EACjC,MAAMX,QAAQ,GAAGZ,KAAK,CAACwB,OAAO,CAAC,MAAMJ,IAAI,IAAI;IAC3C,GAAGC,MAAM;IACTJ,YAAY,EAAE;MACZQ,OAAO,EAAEjB,IAAI,IAAIkB,IAAI,IAAI;QACvB,MAAMC,WAAW,GAAGpB,aAAa,CAACC,IAAI,CAAC;QACvC,IAAIkB,IAAI,EAAE;UACRJ,QAAQ,CAACM,OAAO,CAACD,WAAW,CAAC,GAAGD,IAAI;QACtC,CAAC,MAAM;UACL,OAAOJ,QAAQ,CAACM,OAAO,CAACD,WAAW,CAAC;QACtC;MACF;IACF,CAAC;IACDE,aAAa,EAAEA,CAACrB,IAAI,EAAEsB,OAAO,GAAG,CAAC,CAAC,KAAK;MACrC,MAAM;QACJC,KAAK;QACL,GAAGC;MACL,CAAC,GAAGF,OAAO;MACX,MAAMJ,IAAI,GAAGf,eAAe,CAACH,IAAI,EAAEI,QAAQ,CAAC;MAC5C,IAAIc,IAAI,EAAE;QACRtB,cAAc,CAACsB,IAAI,EAAE;UACnBO,UAAU,EAAE,WAAW;UACvBC,KAAK,EAAE,SAAS;UAChB,GAAGF;QACL,CAAC,CAAC;QACF;QACA,IAAID,KAAK,EAAE;UACTnB,QAAQ,CAACuB,UAAU,CAAC3B,IAAI,CAAC;QAC3B;MACF;IACF,CAAC;IACD2B,UAAU,EAAE3B,IAAI,IAAI;MAClB,MAAMiB,OAAO,GAAGb,QAAQ,CAACE,gBAAgB,CAACN,IAAI,CAAC;MAC/C,IAAI,OAAOiB,OAAO,EAAEM,KAAK,KAAK,UAAU,EAAE;QACxCN,OAAO,CAACM,KAAK,CAAC,CAAC;MACjB,CAAC,MAAM;QACLpB,eAAe,CAACH,IAAI,EAAEI,QAAQ,CAAC,EAAEmB,KAAK,GAAG,CAAC;MAC5C;IACF,CAAC;IACDjB,gBAAgB,EAAEN,IAAI,IAAI;MACxB,MAAMmB,WAAW,GAAGpB,aAAa,CAACC,IAAI,CAAC;MACvC,OAAOc,QAAQ,CAACM,OAAO,CAACD,WAAW,CAAC;IACtC;EACF,CAAC,EAAE,CAACP,IAAI,EAAEC,MAAM,CAAC,CAAC;EAClB,OAAO,CAACT,QAAQ,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}