{"ast":null,"code":"function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport Preview from \"./Preview\";\nimport { PreviewGroupContext } from \"./context\";\nimport usePreviewItems from \"./hooks/usePreviewItems\";\nconst Group = ({\n  previewPrefixCls = 'rc-image-preview',\n  classNames,\n  styles,\n  children,\n  icons = {},\n  items,\n  preview,\n  fallback\n}) => {\n  const {\n    open: previewOpen,\n    onOpenChange,\n    current: currentIndex,\n    onChange,\n    ...restProps\n  } = preview && typeof preview === 'object' ? preview : {};\n\n  // ========================== Items ===========================\n  const [mergedItems, register, fromItems] = usePreviewItems(items);\n\n  // ========================= Preview ==========================\n  // >>> Index\n  const [current, setCurrent] = useControlledState(0, currentIndex);\n  const [keepOpenIndex, setKeepOpenIndex] = useState(false);\n\n  // >>> Image\n  const {\n    src,\n    ...imgCommonProps\n  } = mergedItems[current]?.data || {};\n  // >>> Visible\n  const [isShowPreview, setShowPreview] = useControlledState(!!previewOpen, previewOpen);\n  const triggerShowPreview = useEvent(next => {\n    setShowPreview(next);\n    if (next !== isShowPreview) {\n      onOpenChange?.(next, {\n        current\n      });\n    }\n  });\n\n  // >>> Position\n  const [mousePosition, setMousePosition] = useState(null);\n  const onPreviewFromImage = React.useCallback((id, imageSrc, mouseX, mouseY) => {\n    const index = fromItems ? mergedItems.findIndex(item => item.data.src === imageSrc) : mergedItems.findIndex(item => item.id === id);\n    setCurrent(index < 0 ? 0 : index);\n    triggerShowPreview(true);\n    setMousePosition({\n      x: mouseX,\n      y: mouseY\n    });\n    setKeepOpenIndex(true);\n  }, [mergedItems, fromItems]);\n\n  // Reset current when reopen\n  React.useEffect(() => {\n    if (isShowPreview) {\n      if (!keepOpenIndex) {\n        setCurrent(0);\n      }\n    } else {\n      setKeepOpenIndex(false);\n    }\n  }, [isShowPreview]);\n\n  // ========================== Events ==========================\n  const onInternalChange = (next, prev) => {\n    setCurrent(next);\n    onChange?.(next, prev);\n  };\n  const onPreviewClose = () => {\n    triggerShowPreview(false);\n    setMousePosition(null);\n  };\n\n  // ========================= Context ==========================\n  const previewGroupContext = React.useMemo(() => ({\n    register,\n    onPreview: onPreviewFromImage\n  }), [register, onPreviewFromImage]);\n\n  // ========================== Render ==========================\n  return /*#__PURE__*/React.createElement(PreviewGroupContext.Provider, {\n    value: previewGroupContext\n  }, children, /*#__PURE__*/React.createElement(Preview, _extends({\n    \"aria-hidden\": !isShowPreview,\n    open: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    imgCommonProps: imgCommonProps,\n    src: src,\n    fallback: fallback,\n    icons: icons,\n    current: current,\n    count: mergedItems.length,\n    onChange: onInternalChange\n  }, restProps, {\n    classNames: classNames?.popup,\n    styles: styles?.popup\n  })));\n};\nexport default Group;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","useControlledState","useEvent","React","useState","Preview","PreviewGroupContext","usePreviewItems","Group","previewPrefixCls","classNames","styles","children","icons","items","preview","fallback","open","previewOpen","onOpenChange","current","currentIndex","onChange","restProps","mergedItems","register","fromItems","setCurrent","keepOpenIndex","setKeepOpenIndex","src","imgCommonProps","data","isShowPreview","setShowPreview","triggerShowPreview","next","mousePosition","setMousePosition","onPreviewFromImage","useCallback","id","imageSrc","mouseX","mouseY","index","findIndex","item","x","y","useEffect","onInternalChange","prev","onPreviewClose","previewGroupContext","useMemo","onPreview","createElement","Provider","value","prefixCls","onClose","count","popup"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/image/es/PreviewGroup.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport useControlledState from \"@rc-component/util/es/hooks/useControlledState\";\nimport useEvent from \"@rc-component/util/es/hooks/useEvent\";\nimport * as React from 'react';\nimport { useState } from 'react';\nimport Preview from \"./Preview\";\nimport { PreviewGroupContext } from \"./context\";\nimport usePreviewItems from \"./hooks/usePreviewItems\";\nconst Group = ({\n  previewPrefixCls = 'rc-image-preview',\n  classNames,\n  styles,\n  children,\n  icons = {},\n  items,\n  preview,\n  fallback\n}) => {\n  const {\n    open: previewOpen,\n    onOpenChange,\n    current: currentIndex,\n    onChange,\n    ...restProps\n  } = preview && typeof preview === 'object' ? preview : {};\n\n  // ========================== Items ===========================\n  const [mergedItems, register, fromItems] = usePreviewItems(items);\n\n  // ========================= Preview ==========================\n  // >>> Index\n  const [current, setCurrent] = useControlledState(0, currentIndex);\n  const [keepOpenIndex, setKeepOpenIndex] = useState(false);\n\n  // >>> Image\n  const {\n    src,\n    ...imgCommonProps\n  } = mergedItems[current]?.data || {};\n  // >>> Visible\n  const [isShowPreview, setShowPreview] = useControlledState(!!previewOpen, previewOpen);\n  const triggerShowPreview = useEvent(next => {\n    setShowPreview(next);\n    if (next !== isShowPreview) {\n      onOpenChange?.(next, {\n        current\n      });\n    }\n  });\n\n  // >>> Position\n  const [mousePosition, setMousePosition] = useState(null);\n  const onPreviewFromImage = React.useCallback((id, imageSrc, mouseX, mouseY) => {\n    const index = fromItems ? mergedItems.findIndex(item => item.data.src === imageSrc) : mergedItems.findIndex(item => item.id === id);\n    setCurrent(index < 0 ? 0 : index);\n    triggerShowPreview(true);\n    setMousePosition({\n      x: mouseX,\n      y: mouseY\n    });\n    setKeepOpenIndex(true);\n  }, [mergedItems, fromItems]);\n\n  // Reset current when reopen\n  React.useEffect(() => {\n    if (isShowPreview) {\n      if (!keepOpenIndex) {\n        setCurrent(0);\n      }\n    } else {\n      setKeepOpenIndex(false);\n    }\n  }, [isShowPreview]);\n\n  // ========================== Events ==========================\n  const onInternalChange = (next, prev) => {\n    setCurrent(next);\n    onChange?.(next, prev);\n  };\n  const onPreviewClose = () => {\n    triggerShowPreview(false);\n    setMousePosition(null);\n  };\n\n  // ========================= Context ==========================\n  const previewGroupContext = React.useMemo(() => ({\n    register,\n    onPreview: onPreviewFromImage\n  }), [register, onPreviewFromImage]);\n\n  // ========================== Render ==========================\n  return /*#__PURE__*/React.createElement(PreviewGroupContext.Provider, {\n    value: previewGroupContext\n  }, children, /*#__PURE__*/React.createElement(Preview, _extends({\n    \"aria-hidden\": !isShowPreview,\n    open: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    imgCommonProps: imgCommonProps,\n    src: src,\n    fallback: fallback,\n    icons: icons,\n    current: current,\n    count: mergedItems.length,\n    onChange: onInternalChange\n  }, restProps, {\n    classNames: classNames?.popup,\n    styles: styles?.popup\n  })));\n};\nexport default Group;"],"mappings":"AAAA,SAASA,QAAQA,CAAA,EAAG;EAAEA,QAAQ,GAAGC,MAAM,CAACC,MAAM,GAAGD,MAAM,CAACC,MAAM,CAACC,IAAI,CAAC,CAAC,GAAG,UAAUC,MAAM,EAAE;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEF,CAAC,EAAE,EAAE;MAAE,IAAIG,MAAM,GAAGF,SAAS,CAACD,CAAC,CAAC;MAAE,KAAK,IAAII,GAAG,IAAID,MAAM,EAAE;QAAE,IAAIP,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAEC,GAAG,CAAC,EAAE;UAAEL,MAAM,CAACK,GAAG,CAAC,GAAGD,MAAM,CAACC,GAAG,CAAC;QAAE;MAAE;IAAE;IAAE,OAAOL,MAAM;EAAE,CAAC;EAAE,OAAOJ,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEP,SAAS,CAAC;AAAE;AAClV,OAAOQ,kBAAkB,MAAM,gDAAgD;AAC/E,OAAOC,QAAQ,MAAM,sCAAsC;AAC3D,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,mBAAmB,QAAQ,WAAW;AAC/C,OAAOC,eAAe,MAAM,yBAAyB;AACrD,MAAMC,KAAK,GAAGA,CAAC;EACbC,gBAAgB,GAAG,kBAAkB;EACrCC,UAAU;EACVC,MAAM;EACNC,QAAQ;EACRC,KAAK,GAAG,CAAC,CAAC;EACVC,KAAK;EACLC,OAAO;EACPC;AACF,CAAC,KAAK;EACJ,MAAM;IACJC,IAAI,EAAEC,WAAW;IACjBC,YAAY;IACZC,OAAO,EAAEC,YAAY;IACrBC,QAAQ;IACR,GAAGC;EACL,CAAC,GAAGR,OAAO,IAAI,OAAOA,OAAO,KAAK,QAAQ,GAAGA,OAAO,GAAG,CAAC,CAAC;;EAEzD;EACA,MAAM,CAACS,WAAW,EAAEC,QAAQ,EAAEC,SAAS,CAAC,GAAGnB,eAAe,CAACO,KAAK,CAAC;;EAEjE;EACA;EACA,MAAM,CAACM,OAAO,EAAEO,UAAU,CAAC,GAAG1B,kBAAkB,CAAC,CAAC,EAAEoB,YAAY,CAAC;EACjE,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;;EAEzD;EACA,MAAM;IACJ0B,GAAG;IACH,GAAGC;EACL,CAAC,GAAGP,WAAW,CAACJ,OAAO,CAAC,EAAEY,IAAI,IAAI,CAAC,CAAC;EACpC;EACA,MAAM,CAACC,aAAa,EAAEC,cAAc,CAAC,GAAGjC,kBAAkB,CAAC,CAAC,CAACiB,WAAW,EAAEA,WAAW,CAAC;EACtF,MAAMiB,kBAAkB,GAAGjC,QAAQ,CAACkC,IAAI,IAAI;IAC1CF,cAAc,CAACE,IAAI,CAAC;IACpB,IAAIA,IAAI,KAAKH,aAAa,EAAE;MAC1Bd,YAAY,GAAGiB,IAAI,EAAE;QACnBhB;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;;EAEF;EACA,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAMmC,kBAAkB,GAAGpC,KAAK,CAACqC,WAAW,CAAC,CAACC,EAAE,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,MAAM,KAAK;IAC7E,MAAMC,KAAK,GAAGnB,SAAS,GAAGF,WAAW,CAACsB,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACf,IAAI,CAACF,GAAG,KAAKY,QAAQ,CAAC,GAAGlB,WAAW,CAACsB,SAAS,CAACC,IAAI,IAAIA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;IACnId,UAAU,CAACkB,KAAK,GAAG,CAAC,GAAG,CAAC,GAAGA,KAAK,CAAC;IACjCV,kBAAkB,CAAC,IAAI,CAAC;IACxBG,gBAAgB,CAAC;MACfU,CAAC,EAAEL,MAAM;MACTM,CAAC,EAAEL;IACL,CAAC,CAAC;IACFf,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC,EAAE,CAACL,WAAW,EAAEE,SAAS,CAAC,CAAC;;EAE5B;EACAvB,KAAK,CAAC+C,SAAS,CAAC,MAAM;IACpB,IAAIjB,aAAa,EAAE;MACjB,IAAI,CAACL,aAAa,EAAE;QAClBD,UAAU,CAAC,CAAC,CAAC;MACf;IACF,CAAC,MAAM;MACLE,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC,EAAE,CAACI,aAAa,CAAC,CAAC;;EAEnB;EACA,MAAMkB,gBAAgB,GAAGA,CAACf,IAAI,EAAEgB,IAAI,KAAK;IACvCzB,UAAU,CAACS,IAAI,CAAC;IAChBd,QAAQ,GAAGc,IAAI,EAAEgB,IAAI,CAAC;EACxB,CAAC;EACD,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BlB,kBAAkB,CAAC,KAAK,CAAC;IACzBG,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;;EAED;EACA,MAAMgB,mBAAmB,GAAGnD,KAAK,CAACoD,OAAO,CAAC,OAAO;IAC/C9B,QAAQ;IACR+B,SAAS,EAAEjB;EACb,CAAC,CAAC,EAAE,CAACd,QAAQ,EAAEc,kBAAkB,CAAC,CAAC;;EAEnC;EACA,OAAO,aAAapC,KAAK,CAACsD,aAAa,CAACnD,mBAAmB,CAACoD,QAAQ,EAAE;IACpEC,KAAK,EAAEL;EACT,CAAC,EAAE1C,QAAQ,EAAE,aAAaT,KAAK,CAACsD,aAAa,CAACpD,OAAO,EAAElB,QAAQ,CAAC;IAC9D,aAAa,EAAE,CAAC8C,aAAa;IAC7BhB,IAAI,EAAEgB,aAAa;IACnB2B,SAAS,EAAEnD,gBAAgB;IAC3BoD,OAAO,EAAER,cAAc;IACvBhB,aAAa,EAAEA,aAAa;IAC5BN,cAAc,EAAEA,cAAc;IAC9BD,GAAG,EAAEA,GAAG;IACRd,QAAQ,EAAEA,QAAQ;IAClBH,KAAK,EAAEA,KAAK;IACZO,OAAO,EAAEA,OAAO;IAChB0C,KAAK,EAAEtC,WAAW,CAAC9B,MAAM;IACzB4B,QAAQ,EAAE6B;EACZ,CAAC,EAAE5B,SAAS,EAAE;IACZb,UAAU,EAAEA,UAAU,EAAEqD,KAAK;IAC7BpD,MAAM,EAAEA,MAAM,EAAEoD;EAClB,CAAC,CAAC,CAAC,CAAC;AACN,CAAC;AACD,eAAevD,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}