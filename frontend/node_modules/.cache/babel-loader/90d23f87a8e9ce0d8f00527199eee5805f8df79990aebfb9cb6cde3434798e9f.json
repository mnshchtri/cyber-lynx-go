{"ast":null,"code":"import canUseDom from \"@rc-component/util/es/Dom/canUseDom\";\nimport { ATTR_MARK } from \"../StyleContext\";\nexport const ATTR_CACHE_MAP = 'data-ant-cssinjs-cache-path';\n\n/**\n * This marks style from the css file.\n * Which means not exist in `<style />` tag.\n */\nexport const CSS_FILE_STYLE = '_FILE_STYLE__';\nexport function serialize(cachePathMap) {\n  return Object.keys(cachePathMap).map(path => {\n    const hash = cachePathMap[path];\n    return `${path}:${hash}`;\n  }).join(';');\n}\nlet cachePathMap;\nlet fromCSSFile = true;\n\n/**\n * @private Test usage only. Can save remove if no need.\n */\nexport function reset(mockCache, fromFile = true) {\n  cachePathMap = mockCache;\n  fromCSSFile = fromFile;\n}\nexport function prepare() {\n  if (!cachePathMap) {\n    cachePathMap = {};\n    if (canUseDom()) {\n      const div = document.createElement('div');\n      div.className = ATTR_CACHE_MAP;\n      div.style.position = 'fixed';\n      div.style.visibility = 'hidden';\n      div.style.top = '-9999px';\n      document.body.appendChild(div);\n      let content = getComputedStyle(div).content || '';\n      content = content.replace(/^\"/, '').replace(/\"$/, '');\n\n      // Fill data\n      content.split(';').forEach(item => {\n        const [path, hash] = item.split(':');\n        cachePathMap[path] = hash;\n      });\n\n      // Remove inline record style\n      const inlineMapStyle = document.querySelector(`style[${ATTR_CACHE_MAP}]`);\n      if (inlineMapStyle) {\n        fromCSSFile = false;\n        inlineMapStyle.parentNode?.removeChild(inlineMapStyle);\n      }\n      document.body.removeChild(div);\n    }\n  }\n}\nexport function existPath(path) {\n  prepare();\n  return !!cachePathMap[path];\n}\nexport function getStyleAndHash(path) {\n  const hash = cachePathMap[path];\n  let styleStr = null;\n  if (hash && canUseDom()) {\n    if (fromCSSFile) {\n      styleStr = CSS_FILE_STYLE;\n    } else {\n      const style = document.querySelector(`style[${ATTR_MARK}=\"${cachePathMap[path]}\"]`);\n      if (style) {\n        styleStr = style.innerHTML;\n      } else {\n        // Clean up since not exist anymore\n        delete cachePathMap[path];\n      }\n    }\n  }\n  return [styleStr, hash];\n}","map":{"version":3,"names":["canUseDom","ATTR_MARK","ATTR_CACHE_MAP","CSS_FILE_STYLE","serialize","cachePathMap","Object","keys","map","path","hash","join","fromCSSFile","reset","mockCache","fromFile","prepare","div","document","createElement","className","style","position","visibility","top","body","appendChild","content","getComputedStyle","replace","split","forEach","item","inlineMapStyle","querySelector","parentNode","removeChild","existPath","getStyleAndHash","styleStr","innerHTML"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@ant-design/cssinjs/es/util/cacheMapUtil.js"],"sourcesContent":["import canUseDom from \"@rc-component/util/es/Dom/canUseDom\";\nimport { ATTR_MARK } from \"../StyleContext\";\nexport const ATTR_CACHE_MAP = 'data-ant-cssinjs-cache-path';\n\n/**\n * This marks style from the css file.\n * Which means not exist in `<style />` tag.\n */\nexport const CSS_FILE_STYLE = '_FILE_STYLE__';\nexport function serialize(cachePathMap) {\n  return Object.keys(cachePathMap).map(path => {\n    const hash = cachePathMap[path];\n    return `${path}:${hash}`;\n  }).join(';');\n}\nlet cachePathMap;\nlet fromCSSFile = true;\n\n/**\n * @private Test usage only. Can save remove if no need.\n */\nexport function reset(mockCache, fromFile = true) {\n  cachePathMap = mockCache;\n  fromCSSFile = fromFile;\n}\nexport function prepare() {\n  if (!cachePathMap) {\n    cachePathMap = {};\n    if (canUseDom()) {\n      const div = document.createElement('div');\n      div.className = ATTR_CACHE_MAP;\n      div.style.position = 'fixed';\n      div.style.visibility = 'hidden';\n      div.style.top = '-9999px';\n      document.body.appendChild(div);\n      let content = getComputedStyle(div).content || '';\n      content = content.replace(/^\"/, '').replace(/\"$/, '');\n\n      // Fill data\n      content.split(';').forEach(item => {\n        const [path, hash] = item.split(':');\n        cachePathMap[path] = hash;\n      });\n\n      // Remove inline record style\n      const inlineMapStyle = document.querySelector(`style[${ATTR_CACHE_MAP}]`);\n      if (inlineMapStyle) {\n        fromCSSFile = false;\n        inlineMapStyle.parentNode?.removeChild(inlineMapStyle);\n      }\n      document.body.removeChild(div);\n    }\n  }\n}\nexport function existPath(path) {\n  prepare();\n  return !!cachePathMap[path];\n}\nexport function getStyleAndHash(path) {\n  const hash = cachePathMap[path];\n  let styleStr = null;\n  if (hash && canUseDom()) {\n    if (fromCSSFile) {\n      styleStr = CSS_FILE_STYLE;\n    } else {\n      const style = document.querySelector(`style[${ATTR_MARK}=\"${cachePathMap[path]}\"]`);\n      if (style) {\n        styleStr = style.innerHTML;\n      } else {\n        // Clean up since not exist anymore\n        delete cachePathMap[path];\n      }\n    }\n  }\n  return [styleStr, hash];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}