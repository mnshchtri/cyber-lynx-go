{"ast":null,"code":"import * as React from 'react';\n/**\n * Cache `value` related LabeledValue & options.\n */\nexport default (labeledValues, valueOptions) => {\n  const cacheRef = React.useRef({\n    values: new Map(),\n    options: new Map()\n  });\n  const filledLabeledValues = React.useMemo(() => {\n    const {\n      values: prevValueCache,\n      options: prevOptionCache\n    } = cacheRef.current;\n\n    // Fill label by cache\n    const patchedValues = labeledValues.map(item => {\n      if (item.label === undefined) {\n        return {\n          ...item,\n          label: prevValueCache.get(item.value)?.label\n        };\n      }\n      return item;\n    });\n\n    // Refresh cache\n    const valueCache = new Map();\n    const optionCache = new Map();\n    patchedValues.forEach(item => {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.current.values = valueCache;\n    cacheRef.current.options = optionCache;\n    return patchedValues;\n  }, [labeledValues, valueOptions]);\n  const getOption = React.useCallback(val => valueOptions.get(val) || cacheRef.current.options.get(val), [valueOptions]);\n  return [filledLabeledValues, getOption];\n};","map":{"version":3,"names":["React","labeledValues","valueOptions","cacheRef","useRef","values","Map","options","filledLabeledValues","useMemo","prevValueCache","prevOptionCache","current","patchedValues","map","item","label","undefined","get","value","valueCache","optionCache","forEach","set","getOption","useCallback","val"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/select/es/hooks/useCache.js"],"sourcesContent":["import * as React from 'react';\n/**\n * Cache `value` related LabeledValue & options.\n */\nexport default ((labeledValues, valueOptions) => {\n  const cacheRef = React.useRef({\n    values: new Map(),\n    options: new Map()\n  });\n  const filledLabeledValues = React.useMemo(() => {\n    const {\n      values: prevValueCache,\n      options: prevOptionCache\n    } = cacheRef.current;\n\n    // Fill label by cache\n    const patchedValues = labeledValues.map(item => {\n      if (item.label === undefined) {\n        return {\n          ...item,\n          label: prevValueCache.get(item.value)?.label\n        };\n      }\n      return item;\n    });\n\n    // Refresh cache\n    const valueCache = new Map();\n    const optionCache = new Map();\n    patchedValues.forEach(item => {\n      valueCache.set(item.value, item);\n      optionCache.set(item.value, valueOptions.get(item.value) || prevOptionCache.get(item.value));\n    });\n    cacheRef.current.values = valueCache;\n    cacheRef.current.options = optionCache;\n    return patchedValues;\n  }, [labeledValues, valueOptions]);\n  const getOption = React.useCallback(val => valueOptions.get(val) || cacheRef.current.options.get(val), [valueOptions]);\n  return [filledLabeledValues, getOption];\n});"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B;AACA;AACA;AACA,eAAgB,CAACC,aAAa,EAAEC,YAAY,KAAK;EAC/C,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC;IAC5BC,MAAM,EAAE,IAAIC,GAAG,CAAC,CAAC;IACjBC,OAAO,EAAE,IAAID,GAAG,CAAC;EACnB,CAAC,CAAC;EACF,MAAME,mBAAmB,GAAGR,KAAK,CAACS,OAAO,CAAC,MAAM;IAC9C,MAAM;MACJJ,MAAM,EAAEK,cAAc;MACtBH,OAAO,EAAEI;IACX,CAAC,GAAGR,QAAQ,CAACS,OAAO;;IAEpB;IACA,MAAMC,aAAa,GAAGZ,aAAa,CAACa,GAAG,CAACC,IAAI,IAAI;MAC9C,IAAIA,IAAI,CAACC,KAAK,KAAKC,SAAS,EAAE;QAC5B,OAAO;UACL,GAAGF,IAAI;UACPC,KAAK,EAAEN,cAAc,CAACQ,GAAG,CAACH,IAAI,CAACI,KAAK,CAAC,EAAEH;QACzC,CAAC;MACH;MACA,OAAOD,IAAI;IACb,CAAC,CAAC;;IAEF;IACA,MAAMK,UAAU,GAAG,IAAId,GAAG,CAAC,CAAC;IAC5B,MAAMe,WAAW,GAAG,IAAIf,GAAG,CAAC,CAAC;IAC7BO,aAAa,CAACS,OAAO,CAACP,IAAI,IAAI;MAC5BK,UAAU,CAACG,GAAG,CAACR,IAAI,CAACI,KAAK,EAAEJ,IAAI,CAAC;MAChCM,WAAW,CAACE,GAAG,CAACR,IAAI,CAACI,KAAK,EAAEjB,YAAY,CAACgB,GAAG,CAACH,IAAI,CAACI,KAAK,CAAC,IAAIR,eAAe,CAACO,GAAG,CAACH,IAAI,CAACI,KAAK,CAAC,CAAC;IAC9F,CAAC,CAAC;IACFhB,QAAQ,CAACS,OAAO,CAACP,MAAM,GAAGe,UAAU;IACpCjB,QAAQ,CAACS,OAAO,CAACL,OAAO,GAAGc,WAAW;IACtC,OAAOR,aAAa;EACtB,CAAC,EAAE,CAACZ,aAAa,EAAEC,YAAY,CAAC,CAAC;EACjC,MAAMsB,SAAS,GAAGxB,KAAK,CAACyB,WAAW,CAACC,GAAG,IAAIxB,YAAY,CAACgB,GAAG,CAACQ,GAAG,CAAC,IAAIvB,QAAQ,CAACS,OAAO,CAACL,OAAO,CAACW,GAAG,CAACQ,GAAG,CAAC,EAAE,CAACxB,YAAY,CAAC,CAAC;EACtH,OAAO,CAACM,mBAAmB,EAAEgB,SAAS,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}