{"ast":null,"code":"function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport Input from \"../Input\";\nimport { useSelectInputContext } from \"../context\";\nimport useBaseProps from \"../../hooks/useBaseProps\";\nimport Placeholder from \"./Placeholder\";\nimport SelectContext from \"../../SelectContext\";\nimport { getTitle } from \"../../utils/commonUtil\";\nconst SingleContent = /*#__PURE__*/React.forwardRef(({\n  inputProps\n}, ref) => {\n  const {\n    prefixCls,\n    searchValue,\n    activeValue,\n    displayValues,\n    maxLength,\n    mode\n  } = useSelectInputContext();\n  const {\n    triggerOpen,\n    title: rootTitle,\n    showSearch,\n    classNames,\n    styles\n  } = useBaseProps();\n  const selectContext = React.useContext(SelectContext);\n  const [inputChanged, setInputChanged] = React.useState(false);\n  const combobox = mode === 'combobox';\n  const displayValue = displayValues[0];\n\n  // Implement the same logic as the old SingleSelector\n  const mergedSearchValue = React.useMemo(() => {\n    if (combobox && activeValue && !inputChanged && triggerOpen) {\n      return activeValue;\n    }\n    return showSearch ? searchValue : '';\n  }, [combobox, activeValue, inputChanged, triggerOpen, searchValue, showSearch]);\n\n  // Extract option props, excluding label and value, and handle className/style merging\n  const optionProps = React.useMemo(() => {\n    let restProps = {\n      className: `${prefixCls}-content-value`,\n      style: {\n        visibility: mergedSearchValue ? 'hidden' : 'visible'\n      }\n    };\n    if (displayValue && selectContext?.flattenOptions) {\n      const option = selectContext.flattenOptions.find(opt => opt.value === displayValue.value);\n      if (option?.data) {\n        const {\n          label,\n          value,\n          className,\n          style,\n          key,\n          ...rest\n        } = option.data;\n        restProps = {\n          ...restProps,\n          ...rest,\n          title: getTitle(option.data),\n          className: clsx(restProps.className, className),\n          style: {\n            ...restProps.style,\n            ...style\n          }\n        };\n      }\n    }\n    if (displayValue && !restProps.title) {\n      restProps.title = getTitle(displayValue);\n    }\n    if (rootTitle !== undefined) {\n      restProps.title = rootTitle;\n    }\n    return restProps;\n  }, [displayValue, selectContext?.flattenOptions, prefixCls, mergedSearchValue, rootTitle]);\n  React.useEffect(() => {\n    if (combobox) {\n      setInputChanged(false);\n    }\n  }, [combobox, activeValue]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(`${prefixCls}-content`, classNames?.content),\n    style: styles?.content\n  }, displayValue ? /*#__PURE__*/React.createElement(\"div\", optionProps, displayValue.label) : /*#__PURE__*/React.createElement(Placeholder, {\n    show: !mergedSearchValue\n  }), /*#__PURE__*/React.createElement(Input, _extends({\n    ref: ref\n  }, inputProps, {\n    value: mergedSearchValue,\n    maxLength: mode === 'combobox' ? maxLength : undefined,\n    onChange: e => {\n      setInputChanged(true);\n      inputProps.onChange?.(e);\n    }\n  })));\n});\nexport default SingleContent;","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","clsx","Input","useSelectInputContext","useBaseProps","Placeholder","SelectContext","getTitle","SingleContent","forwardRef","inputProps","ref","prefixCls","searchValue","activeValue","displayValues","maxLength","mode","triggerOpen","title","rootTitle","showSearch","classNames","styles","selectContext","useContext","inputChanged","setInputChanged","useState","combobox","displayValue","mergedSearchValue","useMemo","optionProps","restProps","className","style","visibility","flattenOptions","option","find","opt","value","data","label","rest","undefined","useEffect","createElement","content","show","onChange","e"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/select/es/SelectInput/Content/SingleContent.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from 'react';\nimport { clsx } from 'clsx';\nimport Input from \"../Input\";\nimport { useSelectInputContext } from \"../context\";\nimport useBaseProps from \"../../hooks/useBaseProps\";\nimport Placeholder from \"./Placeholder\";\nimport SelectContext from \"../../SelectContext\";\nimport { getTitle } from \"../../utils/commonUtil\";\nconst SingleContent = /*#__PURE__*/React.forwardRef(({\n  inputProps\n}, ref) => {\n  const {\n    prefixCls,\n    searchValue,\n    activeValue,\n    displayValues,\n    maxLength,\n    mode\n  } = useSelectInputContext();\n  const {\n    triggerOpen,\n    title: rootTitle,\n    showSearch,\n    classNames,\n    styles\n  } = useBaseProps();\n  const selectContext = React.useContext(SelectContext);\n  const [inputChanged, setInputChanged] = React.useState(false);\n  const combobox = mode === 'combobox';\n  const displayValue = displayValues[0];\n\n  // Implement the same logic as the old SingleSelector\n  const mergedSearchValue = React.useMemo(() => {\n    if (combobox && activeValue && !inputChanged && triggerOpen) {\n      return activeValue;\n    }\n    return showSearch ? searchValue : '';\n  }, [combobox, activeValue, inputChanged, triggerOpen, searchValue, showSearch]);\n\n  // Extract option props, excluding label and value, and handle className/style merging\n  const optionProps = React.useMemo(() => {\n    let restProps = {\n      className: `${prefixCls}-content-value`,\n      style: {\n        visibility: mergedSearchValue ? 'hidden' : 'visible'\n      }\n    };\n    if (displayValue && selectContext?.flattenOptions) {\n      const option = selectContext.flattenOptions.find(opt => opt.value === displayValue.value);\n      if (option?.data) {\n        const {\n          label,\n          value,\n          className,\n          style,\n          key,\n          ...rest\n        } = option.data;\n        restProps = {\n          ...restProps,\n          ...rest,\n          title: getTitle(option.data),\n          className: clsx(restProps.className, className),\n          style: {\n            ...restProps.style,\n            ...style\n          }\n        };\n      }\n    }\n    if (displayValue && !restProps.title) {\n      restProps.title = getTitle(displayValue);\n    }\n    if (rootTitle !== undefined) {\n      restProps.title = rootTitle;\n    }\n    return restProps;\n  }, [displayValue, selectContext?.flattenOptions, prefixCls, mergedSearchValue, rootTitle]);\n  React.useEffect(() => {\n    if (combobox) {\n      setInputChanged(false);\n    }\n  }, [combobox, activeValue]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(`${prefixCls}-content`, classNames?.content),\n    style: styles?.content\n  }, displayValue ? /*#__PURE__*/React.createElement(\"div\", optionProps, displayValue.label) : /*#__PURE__*/React.createElement(Placeholder, {\n    show: !mergedSearchValue\n  }), /*#__PURE__*/React.createElement(Input, _extends({\n    ref: ref\n  }, inputProps, {\n    value: mergedSearchValue,\n    maxLength: mode === 'combobox' ? maxLength : undefined,\n    onChange: e => {\n      setInputChanged(true);\n      inputProps.onChange?.(e);\n    }\n  })));\n});\nexport default SingleContent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}