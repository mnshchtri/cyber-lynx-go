{"ast":null,"code":"import * as React from 'react';\nimport toArray from \"@rc-component/util/es/Children/toArray\";\nimport warning from \"@rc-component/util/es/warning\";\nimport TreeNode from \"../TreeNode\";\nexport function convertChildrenToData(nodes) {\n  return toArray(nodes).map(node => {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n    const {\n      key,\n      props: {\n        children,\n        value,\n        ...restProps\n      }\n    } = node;\n    const data = {\n      key,\n      value,\n      ...restProps\n    };\n    const childData = convertChildrenToData(children);\n    if (childData.length) {\n      data.children = childData;\n    }\n    return data;\n  }).filter(data => data);\n}\nexport function fillLegacyProps(dataNode) {\n  if (!dataNode) {\n    return dataNode;\n  }\n  const cloneNode = {\n    ...dataNode\n  };\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get() {\n        warning(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n  return cloneNode;\n}\nexport function fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition, fieldNames) {\n  let triggerNode = null;\n  let nodeList = null;\n  function generateMap() {\n    function dig(list, level = '0', parentIncluded = false) {\n      return list.map((option, index) => {\n        const pos = `${level}-${index}`;\n        const value = option[fieldNames.value];\n        const included = checkedValues.includes(value);\n        const children = dig(option[fieldNames.children] || [], pos, included);\n        const node = /*#__PURE__*/React.createElement(TreeNode, option, children.map(child => child.node));\n\n        // Link with trigger node\n        if (triggerValue === value) {\n          triggerNode = node;\n        }\n        if (included) {\n          const checkedNode = {\n            pos,\n            node,\n            children\n          };\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n          return checkedNode;\n        }\n        return null;\n      }).filter(node => node);\n    }\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData);\n\n      // Sort to keep the checked node length\n      nodeList.sort(({\n        node: {\n          props: {\n            value: val1\n          }\n        }\n      }, {\n        node: {\n          props: {\n            value: val2\n          }\n        }\n      }) => {\n        const index1 = checkedValues.indexOf(val1);\n        const index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n  Object.defineProperty(extra, 'triggerNode', {\n    get() {\n      warning(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get() {\n      warning(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      if (showPosition) {\n        return nodeList;\n      }\n      return nodeList.map(({\n        node\n      }) => node);\n    }\n  });\n}","map":{"version":3,"names":["React","toArray","warning","TreeNode","convertChildrenToData","nodes","map","node","isValidElement","type","key","props","children","value","restProps","data","childData","length","filter","fillLegacyProps","dataNode","cloneNode","Object","defineProperty","get","fillAdditionalInfo","extra","triggerValue","checkedValues","treeData","showPosition","fieldNames","triggerNode","nodeList","generateMap","dig","list","level","parentIncluded","option","index","pos","included","includes","createElement","child","checkedNode","push","sort","val1","val2","index1","indexOf","index2"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/tree-select/es/utils/legacyUtil.js"],"sourcesContent":["import * as React from 'react';\nimport toArray from \"@rc-component/util/es/Children/toArray\";\nimport warning from \"@rc-component/util/es/warning\";\nimport TreeNode from \"../TreeNode\";\nexport function convertChildrenToData(nodes) {\n  return toArray(nodes).map(node => {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n    const {\n      key,\n      props: {\n        children,\n        value,\n        ...restProps\n      }\n    } = node;\n    const data = {\n      key,\n      value,\n      ...restProps\n    };\n    const childData = convertChildrenToData(children);\n    if (childData.length) {\n      data.children = childData;\n    }\n    return data;\n  }).filter(data => data);\n}\nexport function fillLegacyProps(dataNode) {\n  if (!dataNode) {\n    return dataNode;\n  }\n  const cloneNode = {\n    ...dataNode\n  };\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get() {\n        warning(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n  return cloneNode;\n}\nexport function fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition, fieldNames) {\n  let triggerNode = null;\n  let nodeList = null;\n  function generateMap() {\n    function dig(list, level = '0', parentIncluded = false) {\n      return list.map((option, index) => {\n        const pos = `${level}-${index}`;\n        const value = option[fieldNames.value];\n        const included = checkedValues.includes(value);\n        const children = dig(option[fieldNames.children] || [], pos, included);\n        const node = /*#__PURE__*/React.createElement(TreeNode, option, children.map(child => child.node));\n\n        // Link with trigger node\n        if (triggerValue === value) {\n          triggerNode = node;\n        }\n        if (included) {\n          const checkedNode = {\n            pos,\n            node,\n            children\n          };\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n          return checkedNode;\n        }\n        return null;\n      }).filter(node => node);\n    }\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData);\n\n      // Sort to keep the checked node length\n      nodeList.sort(({\n        node: {\n          props: {\n            value: val1\n          }\n        }\n      }, {\n        node: {\n          props: {\n            value: val2\n          }\n        }\n      }) => {\n        const index1 = checkedValues.indexOf(val1);\n        const index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n  Object.defineProperty(extra, 'triggerNode', {\n    get() {\n      warning(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get() {\n      warning(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      if (showPosition) {\n        return nodeList;\n      }\n      return nodeList.map(({\n        node\n      }) => node);\n    }\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}