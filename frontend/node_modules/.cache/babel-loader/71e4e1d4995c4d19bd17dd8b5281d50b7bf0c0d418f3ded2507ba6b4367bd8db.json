{"ast":null,"code":"const SPLIT = '__@field_split__';\n\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\nfunction normalize(namePath) {\n  return namePath.map(cell => `${typeof cell}:${cell}`)\n  // Magic split\n  .join(SPLIT);\n}\n\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\nclass NameMap {\n  kvs = new Map();\n  set(key, value) {\n    this.kvs.set(normalize(key), value);\n  }\n  get(key) {\n    return this.kvs.get(normalize(key));\n  }\n  update(key, updater) {\n    const origin = this.get(key);\n    const next = updater(origin);\n    if (!next) {\n      this.delete(key);\n    } else {\n      this.set(key, next);\n    }\n  }\n  delete(key) {\n    this.kvs.delete(normalize(key));\n  }\n\n  // Since we only use this in test, let simply realize this\n  map(callback) {\n    return [...this.kvs.entries()].map(([key, value]) => {\n      const cells = key.split(SPLIT);\n      return callback({\n        key: cells.map(cell => {\n          const [, type, unit] = cell.match(/^([^:]*):(.*)$/);\n          return type === 'number' ? Number(unit) : unit;\n        }),\n        value\n      });\n    });\n  }\n  toJSON() {\n    const json = {};\n    this.map(({\n      key,\n      value\n    }) => {\n      json[key.join('.')] = value;\n      return null;\n    });\n    return json;\n  }\n}\nexport default NameMap;","map":{"version":3,"names":["SPLIT","normalize","namePath","map","cell","join","NameMap","kvs","Map","set","key","value","get","update","updater","origin","next","delete","callback","entries","cells","split","type","unit","match","Number","toJSON","json"],"sources":["/Users/mnsh/Desktop/cyber-lynx/Cyber-LynX-php/frontend/node_modules/@rc-component/form/es/utils/NameMap.js"],"sourcesContent":["const SPLIT = '__@field_split__';\n\n/**\n * Convert name path into string to fast the fetch speed of Map.\n */\nfunction normalize(namePath) {\n  return namePath.map(cell => `${typeof cell}:${cell}`)\n  // Magic split\n  .join(SPLIT);\n}\n\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\nclass NameMap {\n  kvs = new Map();\n  set(key, value) {\n    this.kvs.set(normalize(key), value);\n  }\n  get(key) {\n    return this.kvs.get(normalize(key));\n  }\n  update(key, updater) {\n    const origin = this.get(key);\n    const next = updater(origin);\n    if (!next) {\n      this.delete(key);\n    } else {\n      this.set(key, next);\n    }\n  }\n  delete(key) {\n    this.kvs.delete(normalize(key));\n  }\n\n  // Since we only use this in test, let simply realize this\n  map(callback) {\n    return [...this.kvs.entries()].map(([key, value]) => {\n      const cells = key.split(SPLIT);\n      return callback({\n        key: cells.map(cell => {\n          const [, type, unit] = cell.match(/^([^:]*):(.*)$/);\n          return type === 'number' ? Number(unit) : unit;\n        }),\n        value\n      });\n    });\n  }\n  toJSON() {\n    const json = {};\n    this.map(({\n      key,\n      value\n    }) => {\n      json[key.join('.')] = value;\n      return null;\n    });\n    return json;\n  }\n}\nexport default NameMap;"],"mappings":"AAAA,MAAMA,KAAK,GAAG,kBAAkB;;AAEhC;AACA;AACA;AACA,SAASC,SAASA,CAACC,QAAQ,EAAE;EAC3B,OAAOA,QAAQ,CAACC,GAAG,CAACC,IAAI,IAAI,GAAG,OAAOA,IAAI,IAAIA,IAAI,EAAE;EACpD;EAAA,CACCC,IAAI,CAACL,KAAK,CAAC;AACd;;AAEA;AACA;AACA;AACA,MAAMM,OAAO,CAAC;EACZC,GAAG,GAAG,IAAIC,GAAG,CAAC,CAAC;EACfC,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACd,IAAI,CAACJ,GAAG,CAACE,GAAG,CAACR,SAAS,CAACS,GAAG,CAAC,EAAEC,KAAK,CAAC;EACrC;EACAC,GAAGA,CAACF,GAAG,EAAE;IACP,OAAO,IAAI,CAACH,GAAG,CAACK,GAAG,CAACX,SAAS,CAACS,GAAG,CAAC,CAAC;EACrC;EACAG,MAAMA,CAACH,GAAG,EAAEI,OAAO,EAAE;IACnB,MAAMC,MAAM,GAAG,IAAI,CAACH,GAAG,CAACF,GAAG,CAAC;IAC5B,MAAMM,IAAI,GAAGF,OAAO,CAACC,MAAM,CAAC;IAC5B,IAAI,CAACC,IAAI,EAAE;MACT,IAAI,CAACC,MAAM,CAACP,GAAG,CAAC;IAClB,CAAC,MAAM;MACL,IAAI,CAACD,GAAG,CAACC,GAAG,EAAEM,IAAI,CAAC;IACrB;EACF;EACAC,MAAMA,CAACP,GAAG,EAAE;IACV,IAAI,CAACH,GAAG,CAACU,MAAM,CAAChB,SAAS,CAACS,GAAG,CAAC,CAAC;EACjC;;EAEA;EACAP,GAAGA,CAACe,QAAQ,EAAE;IACZ,OAAO,CAAC,GAAG,IAAI,CAACX,GAAG,CAACY,OAAO,CAAC,CAAC,CAAC,CAAChB,GAAG,CAAC,CAAC,CAACO,GAAG,EAAEC,KAAK,CAAC,KAAK;MACnD,MAAMS,KAAK,GAAGV,GAAG,CAACW,KAAK,CAACrB,KAAK,CAAC;MAC9B,OAAOkB,QAAQ,CAAC;QACdR,GAAG,EAAEU,KAAK,CAACjB,GAAG,CAACC,IAAI,IAAI;UACrB,MAAM,GAAGkB,IAAI,EAAEC,IAAI,CAAC,GAAGnB,IAAI,CAACoB,KAAK,CAAC,gBAAgB,CAAC;UACnD,OAAOF,IAAI,KAAK,QAAQ,GAAGG,MAAM,CAACF,IAAI,CAAC,GAAGA,IAAI;QAChD,CAAC,CAAC;QACFZ;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EACAe,MAAMA,CAAA,EAAG;IACP,MAAMC,IAAI,GAAG,CAAC,CAAC;IACf,IAAI,CAACxB,GAAG,CAAC,CAAC;MACRO,GAAG;MACHC;IACF,CAAC,KAAK;MACJgB,IAAI,CAACjB,GAAG,CAACL,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGM,KAAK;MAC3B,OAAO,IAAI;IACb,CAAC,CAAC;IACF,OAAOgB,IAAI;EACb;AACF;AACA,eAAerB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}