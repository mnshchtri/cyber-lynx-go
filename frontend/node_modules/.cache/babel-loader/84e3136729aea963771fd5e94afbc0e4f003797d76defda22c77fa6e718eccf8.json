{"ast":null,"code":"var _jsxFileName = \"/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowTerminal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WorkflowTerminal = ({\n  nodes,\n  connections\n}) => {\n  _s();\n  const [commandHistory, setCommandHistory] = useState([]);\n  const [currentCommand, setCurrentCommand] = useState('');\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [output, setOutput] = useState([]);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [currentDirectory, setCurrentDirectory] = useState('~');\n  const inputRef = useRef(null);\n  const outputRef = useRef(null);\n  const terminalRef = useRef(null);\n  useEffect(() => {\n    // Focus terminal on mount\n    if (terminalRef.current) {\n      terminalRef.current.focus();\n    }\n  }, []);\n  useEffect(() => {\n    // Auto-scroll to bottom when output changes\n    if (outputRef.current) {\n      outputRef.current.scrollTop = outputRef.current.scrollHeight;\n    }\n  }, [output]);\n  const executeCommand = async cmd => {\n    if (!cmd.trim()) {\n      addOutput('', '');\n      return;\n    }\n\n    // Add command to history\n    const newHistory = [...commandHistory, cmd];\n    setCommandHistory(newHistory);\n    setHistoryIndex(-1);\n    setCurrentCommand('');\n\n    // Display command in output\n    addOutput(currentDirectory, cmd);\n\n    // Parse command\n    const parts = cmd.trim().split(' ');\n    const command = parts[0];\n    const args = parts.slice(1);\n    setIsExecuting(true);\n    try {\n      // Handle built-in commands\n      if (command === 'clear' || command === 'cls') {\n        setOutput([]);\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'cd') {\n        const path = args[0] || '~';\n        setCurrentDirectory(path);\n        addOutput('', `Changed directory to ${path}`);\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'help') {\n        addOutput('', 'Available commands:');\n        addOutput('', '  clear, cls          - Clear terminal');\n        addOutput('', '  cd <path>          - Change directory');\n        addOutput('', '  help               - Show this help');\n        addOutput('', '  history            - Show command history');\n        addOutput('', '  echo <text>        - Echo text');\n        addOutput('', '');\n        addOutput('', 'Workflow commands:');\n        addOutput('', '  workflow-commands  - Show generated workflow commands');\n        addOutput('', '  workflow-execute   - Execute all workflow commands');\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'history') {\n        if (commandHistory.length === 0) {\n          addOutput('', 'No command history');\n        } else {\n          commandHistory.forEach((histCmd, idx) => {\n            addOutput('', `${idx + 1}  ${histCmd}`);\n          });\n        }\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'echo') {\n        addOutput('', args.join(' '));\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'workflow-commands') {\n        const commands = generateWorkflowCommands();\n        if (commands.length === 0) {\n          addOutput('', 'No workflow commands generated. Add tools to your workflow.');\n        } else {\n          addOutput('', `Generated ${commands.length} command(s) from workflow:`);\n          commands.forEach((cmd, idx) => {\n            addOutput('', `[${idx + 1}] ${cmd.tool}: ${cmd.command}`);\n          });\n        }\n        setIsExecuting(false);\n        return;\n      }\n      if (command === 'workflow-execute') {\n        const commands = generateWorkflowCommands();\n        if (commands.length === 0) {\n          addOutput('', 'No workflow commands to execute.');\n          setIsExecuting(false);\n          return;\n        }\n        addOutput('', `Executing ${commands.length} workflow command(s)...`);\n        for (let i = 0; i < commands.length; i++) {\n          const cmd = commands[i];\n          addOutput('', `[${i + 1}/${commands.length}] Executing: ${cmd.command}`);\n\n          // Execute via API\n          await executeSystemCommand(cmd.command);\n        }\n        addOutput('', 'Workflow execution complete.');\n        setIsExecuting(false);\n        return;\n      }\n\n      // Execute system command via API\n      await executeSystemCommand(cmd);\n    } catch (error) {\n      addOutput('', `Error: ${error.message}`, 'error');\n    } finally {\n      setIsExecuting(false);\n    }\n  };\n  const executeSystemCommand = async command => {\n    try {\n      // Call backend API to execute command\n      const response = await fetch('/api/execute-command', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          command\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.output) {\n        addOutput('', data.output);\n      }\n      if (data.error) {\n        addOutput('', data.error, 'error');\n      }\n      if (data.exitCode !== undefined) {\n        if (data.exitCode !== 0) {\n          addOutput('', `Command exited with code ${data.exitCode}`, 'error');\n        }\n      }\n    } catch (error) {\n      // If API doesn't exist, show placeholder\n      if (error.message.includes('Failed to fetch') || error.message.includes('404')) {\n        addOutput('', `Command: ${command}`, 'info');\n        addOutput('', 'Note: Backend API endpoint /api/execute-command not configured.', 'info');\n        addOutput('', 'To enable command execution, implement the API endpoint in your backend.', 'info');\n      } else {\n        addOutput('', `Error executing command: ${error.message}`, 'error');\n      }\n    }\n  };\n  const generateWorkflowCommands = () => {\n    if (nodes.length === 0) return [];\n    const executionOrder = buildExecutionOrder(nodes, connections);\n    return executionOrder.map(node => ({\n      tool: node.name,\n      command: buildCommand(node)\n    }));\n  };\n  const buildExecutionOrder = (nodes, connections) => {\n    const ordered = [];\n    const visited = new Set();\n    const inDegree = new Map();\n    nodes.forEach(node => {\n      inDegree.set(node.id, 0);\n    });\n    connections.forEach(conn => {\n      inDegree.set(conn.to, (inDegree.get(conn.to) || 0) + 1);\n    });\n    const queue = nodes.filter(node => inDegree.get(node.id) === 0);\n    while (queue.length > 0) {\n      const node = queue.shift();\n      if (!visited.has(node.id)) {\n        visited.add(node.id);\n        ordered.push(node);\n        connections.filter(conn => conn.from === node.id).forEach(conn => {\n          const targetNode = nodes.find(n => n.id === conn.to);\n          if (targetNode) {\n            const newDegree = (inDegree.get(conn.to) || 0) - 1;\n            inDegree.set(conn.to, newDegree);\n            if (newDegree === 0) {\n              queue.push(targetNode);\n            }\n          }\n        });\n      }\n    }\n    nodes.forEach(node => {\n      if (!visited.has(node.id)) {\n        ordered.push(node);\n      }\n    });\n    return ordered;\n  };\n  const buildCommand = node => {\n    const config = node.config || {};\n    const toolName = node.name.toLowerCase();\n    switch (toolName) {\n      case 'nmap':\n        const target = config.target || 'TARGET';\n        const scanType = config.scan_type ? config.scan_type.split(' ')[0] : '-sS';\n        const ports = config.ports || '1-1000';\n        const timing = config.timing ? config.timing.split(' ')[0] : '-T3';\n        const scripts = config.scripts ? `--script=${config.scripts}` : '';\n        const outputFlag = config.output === 'XML' ? '-oX' : config.output === 'Grepable' ? '-oG' : config.output === 'All' ? '-oA' : '';\n        const outputFile = outputFlag ? ` ${outputFlag} output` : '';\n        return `nmap ${scanType} ${timing} ${scripts} ${ports} ${target}${outputFile}`.replace(/\\s+/g, ' ').trim();\n      case 'subfinder':\n        const domain = config.domain || 'example.com';\n        const sources = config.sources ? `-sources ${config.sources}` : '';\n        const recursive = config.recursive ? '-recursive' : '';\n        const threads = config.threads ? `-t ${config.threads}` : '';\n        const timeout = config.timeout ? `-timeout ${config.timeout}` : '';\n        const outputFileSub = config.output ? `-o ${config.output}` : '';\n        return `subfinder -d ${domain} ${sources} ${recursive} ${threads} ${timeout} ${outputFileSub}`.replace(/\\s+/g, ' ').trim();\n      case 'dirsearch':\n        const url = config.url || 'https://example.com';\n        const wordlist = config.wordlist ? `-w ${config.wordlist}` : '-w /usr/share/wordlists/dirb/common.txt';\n        const extensions = config.extensions ? `-e ${config.extensions}` : '';\n        const threadsDir = config.threads ? `-t ${config.threads}` : '';\n        const recursiveDir = config.recursive ? '--recursive' : '';\n        const statusCodes = config.status_codes ? `--status-codes ${config.status_codes}` : '';\n        return `python3 dirsearch.py -u ${url} ${wordlist} ${extensions} ${threadsDir} ${recursiveDir} ${statusCodes}`.replace(/\\s+/g, ' ').trim();\n      case 'ghauri':\n        const ghauriUrl = config.url || 'http://example.com/vuln.php?id=1';\n        const method = config.method || 'GET';\n        const data = config.data ? `--data \"${config.data}\"` : '';\n        const level = config.level ? `--level ${config.level.split(' ')[0]}` : '';\n        const risk = config.risk ? `--risk ${config.risk}` : '';\n        const technique = config.technique ? `--technique ${config.technique}` : '';\n        return `ghauri -u \"${ghauriUrl}\" ${method === 'POST' ? `-X POST ${data}` : ''} ${level} ${risk} ${technique}`.replace(/\\s+/g, ' ').trim();\n      default:\n        return `# ${node.name} - Configuration needed`;\n    }\n  };\n  const addOutput = (prompt, text, type = 'normal') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setOutput(prev => [...prev, {\n      prompt,\n      text,\n      type,\n      timestamp\n    }]);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      executeCommand(currentCommand);\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      if (commandHistory.length > 0) {\n        const newIndex = historyIndex === -1 ? commandHistory.length - 1 : Math.max(0, historyIndex - 1);\n        setHistoryIndex(newIndex);\n        setCurrentCommand(commandHistory[newIndex]);\n      }\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (historyIndex >= 0) {\n        const newIndex = historyIndex + 1;\n        if (newIndex >= commandHistory.length) {\n          setHistoryIndex(-1);\n          setCurrentCommand('');\n        } else {\n          setHistoryIndex(newIndex);\n          setCurrentCommand(commandHistory[newIndex]);\n        }\n      }\n    } else if (e.key === 'Tab') {\n      e.preventDefault();\n      // Tab completion could be added here\n    } else if (e.key === 'c' && e.ctrlKey) {\n      e.preventDefault();\n      if (isExecuting) {\n        addOutput('', '^C', 'error');\n        setIsExecuting(false);\n      }\n    } else if (e.key === 'l' && e.ctrlKey) {\n      e.preventDefault();\n      setOutput([]);\n    }\n  };\n  const getOutputColor = type => {\n    switch (type) {\n      case 'error':\n        return 'text-red-500';\n      case 'info':\n        return 'text-cyan-400';\n      default:\n        return 'text-green-400';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: terminalRef,\n    className: \"flex flex-col h-full bg-black overflow-hidden\",\n    tabIndex: 0,\n    onKeyDown: handleKeyDown,\n    style: {\n      fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n      height: 'calc(100% - 4px)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between px-4 py-2 bg-gray-900 border-b border-gray-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-1.5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3 h-3 rounded-full bg-red-500 hover:bg-red-600 transition-colors cursor-pointer\",\n            title: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3 h-3 rounded-full bg-yellow-500 hover:bg-yellow-600 transition-colors cursor-pointer\",\n            title: \"Minimize\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3 h-3 rounded-full bg-green-500 hover:bg-green-600 transition-colors cursor-pointer\",\n            title: \"Maximize\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500 ml-3 font-mono\",\n          children: \"user@cyberlynx: ~\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOutput([]),\n        className: \"px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded transition-colors font-mono\",\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: outputRef,\n      className: \"flex-1 overflow-y-auto p-4 text-sm bg-black text-green-400 terminal-scrollbar\",\n      style: {\n        fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n        fontSize: '13px',\n        lineHeight: '1.5',\n        scrollbarWidth: 'thin',\n        scrollbarColor: '#374151 #000000'\n      },\n      children: [output.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-600 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-green-400\",\n          children: \"Welcome to CyberLynX Terminal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Type 'help' for available commands\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-600\",\n          children: \"Type 'workflow-commands' to see generated workflow commands\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-gray-700\",\n          children: \"\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), output.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-0.5 leading-relaxed\",\n        children: [item.prompt && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-400 font-semibold\",\n            children: \"user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"@\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-400 font-semibold\",\n            children: \"cyberlynx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-yellow-400\",\n            children: item.prompt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this), ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: getOutputColor(item.type),\n          style: {\n            whiteSpace: 'pre-wrap',\n            wordBreak: 'break-word'\n          },\n          children: item.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this)), isExecuting && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"inline-block w-2 h-4 bg-green-400 animate-pulse ml-1\",\n        style: {\n          verticalAlign: 'middle'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-gray-800 bg-black p-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-300 mr-1 select-none\",\n          style: {\n            fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-400 font-semibold\",\n            children: \"user\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"@\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-blue-400 font-semibold\",\n            children: \"cyberlynx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-yellow-400\",\n            children: currentDirectory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500\",\n            children: \"$\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), ' ']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          type: \"text\",\n          value: currentCommand,\n          onChange: e => setCurrentCommand(e.target.value),\n          onKeyDown: handleKeyDown,\n          className: \"flex-1 bg-transparent text-green-400 outline-none ml-1 font-mono caret-green-400\",\n          style: {\n            fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n            fontSize: '13px'\n          },\n          placeholder: \"\",\n          disabled: isExecuting,\n          autoFocus: true,\n          spellCheck: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), isExecuting && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500 ml-2 animate-pulse\",\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 343,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkflowTerminal, \"IFum4OZx2d/wk1J7h9MZ2FJKWfs=\");\n_c = WorkflowTerminal;\nexport default WorkflowTerminal;\nvar _c;\n$RefreshReg$(_c, \"WorkflowTerminal\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","WorkflowTerminal","nodes","connections","_s","commandHistory","setCommandHistory","currentCommand","setCurrentCommand","historyIndex","setHistoryIndex","output","setOutput","isExecuting","setIsExecuting","currentDirectory","setCurrentDirectory","inputRef","outputRef","terminalRef","current","focus","scrollTop","scrollHeight","executeCommand","cmd","trim","addOutput","newHistory","parts","split","command","args","slice","path","length","forEach","histCmd","idx","join","commands","generateWorkflowCommands","tool","i","executeSystemCommand","error","message","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","exitCode","undefined","includes","executionOrder","buildExecutionOrder","map","node","name","buildCommand","ordered","visited","Set","inDegree","Map","set","id","conn","to","get","queue","filter","shift","has","add","push","from","targetNode","find","n","newDegree","config","toolName","toLowerCase","target","scanType","scan_type","ports","timing","scripts","outputFlag","outputFile","replace","domain","sources","recursive","threads","timeout","outputFileSub","url","wordlist","extensions","threadsDir","recursiveDir","statusCodes","status_codes","ghauriUrl","level","risk","technique","prompt","text","type","timestamp","Date","toLocaleTimeString","prev","handleKeyDown","e","key","preventDefault","newIndex","Math","max","ctrlKey","getOutputColor","ref","className","tabIndex","onKeyDown","style","fontFamily","height","children","title","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fontSize","lineHeight","scrollbarWidth","scrollbarColor","item","index","whiteSpace","wordBreak","verticalAlign","value","onChange","placeholder","disabled","autoFocus","spellCheck","_c","$RefreshReg$"],"sources":["/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowTerminal.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst WorkflowTerminal = ({ nodes, connections }) => {\n  const [commandHistory, setCommandHistory] = useState([]);\n  const [currentCommand, setCurrentCommand] = useState('');\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [output, setOutput] = useState([]);\n  const [isExecuting, setIsExecuting] = useState(false);\n  const [currentDirectory, setCurrentDirectory] = useState('~');\n  const inputRef = useRef(null);\n  const outputRef = useRef(null);\n  const terminalRef = useRef(null);\n\n  useEffect(() => {\n    // Focus terminal on mount\n    if (terminalRef.current) {\n      terminalRef.current.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    // Auto-scroll to bottom when output changes\n    if (outputRef.current) {\n      outputRef.current.scrollTop = outputRef.current.scrollHeight;\n    }\n  }, [output]);\n\n  const executeCommand = async (cmd) => {\n    if (!cmd.trim()) {\n      addOutput('', '');\n      return;\n    }\n\n    // Add command to history\n    const newHistory = [...commandHistory, cmd];\n    setCommandHistory(newHistory);\n    setHistoryIndex(-1);\n    setCurrentCommand('');\n\n    // Display command in output\n    addOutput(currentDirectory, cmd);\n\n    // Parse command\n    const parts = cmd.trim().split(' ');\n    const command = parts[0];\n    const args = parts.slice(1);\n\n    setIsExecuting(true);\n\n    try {\n      // Handle built-in commands\n      if (command === 'clear' || command === 'cls') {\n        setOutput([]);\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'cd') {\n        const path = args[0] || '~';\n        setCurrentDirectory(path);\n        addOutput('', `Changed directory to ${path}`);\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'help') {\n        addOutput('', 'Available commands:');\n        addOutput('', '  clear, cls          - Clear terminal');\n        addOutput('', '  cd <path>          - Change directory');\n        addOutput('', '  help               - Show this help');\n        addOutput('', '  history            - Show command history');\n        addOutput('', '  echo <text>        - Echo text');\n        addOutput('', '');\n        addOutput('', 'Workflow commands:');\n        addOutput('', '  workflow-commands  - Show generated workflow commands');\n        addOutput('', '  workflow-execute   - Execute all workflow commands');\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'history') {\n        if (commandHistory.length === 0) {\n          addOutput('', 'No command history');\n        } else {\n          commandHistory.forEach((histCmd, idx) => {\n            addOutput('', `${idx + 1}  ${histCmd}`);\n          });\n        }\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'echo') {\n        addOutput('', args.join(' '));\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'workflow-commands') {\n        const commands = generateWorkflowCommands();\n        if (commands.length === 0) {\n          addOutput('', 'No workflow commands generated. Add tools to your workflow.');\n        } else {\n          addOutput('', `Generated ${commands.length} command(s) from workflow:`);\n          commands.forEach((cmd, idx) => {\n            addOutput('', `[${idx + 1}] ${cmd.tool}: ${cmd.command}`);\n          });\n        }\n        setIsExecuting(false);\n        return;\n      }\n\n      if (command === 'workflow-execute') {\n        const commands = generateWorkflowCommands();\n        if (commands.length === 0) {\n          addOutput('', 'No workflow commands to execute.');\n          setIsExecuting(false);\n          return;\n        }\n        \n        addOutput('', `Executing ${commands.length} workflow command(s)...`);\n        for (let i = 0; i < commands.length; i++) {\n          const cmd = commands[i];\n          addOutput('', `[${i + 1}/${commands.length}] Executing: ${cmd.command}`);\n          \n          // Execute via API\n          await executeSystemCommand(cmd.command);\n        }\n        addOutput('', 'Workflow execution complete.');\n        setIsExecuting(false);\n        return;\n      }\n\n      // Execute system command via API\n      await executeSystemCommand(cmd);\n\n    } catch (error) {\n      addOutput('', `Error: ${error.message}`, 'error');\n    } finally {\n      setIsExecuting(false);\n    }\n  };\n\n  const executeSystemCommand = async (command) => {\n    try {\n      // Call backend API to execute command\n      const response = await fetch('/api/execute-command', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ command }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      if (data.output) {\n        addOutput('', data.output);\n      }\n      if (data.error) {\n        addOutput('', data.error, 'error');\n      }\n      if (data.exitCode !== undefined) {\n        if (data.exitCode !== 0) {\n          addOutput('', `Command exited with code ${data.exitCode}`, 'error');\n        }\n      }\n    } catch (error) {\n      // If API doesn't exist, show placeholder\n      if (error.message.includes('Failed to fetch') || error.message.includes('404')) {\n        addOutput('', `Command: ${command}`, 'info');\n        addOutput('', 'Note: Backend API endpoint /api/execute-command not configured.', 'info');\n        addOutput('', 'To enable command execution, implement the API endpoint in your backend.', 'info');\n      } else {\n        addOutput('', `Error executing command: ${error.message}`, 'error');\n      }\n    }\n  };\n\n  const generateWorkflowCommands = () => {\n    if (nodes.length === 0) return [];\n\n    const executionOrder = buildExecutionOrder(nodes, connections);\n    return executionOrder.map((node) => ({\n      tool: node.name,\n      command: buildCommand(node)\n    }));\n  };\n\n  const buildExecutionOrder = (nodes, connections) => {\n    const ordered = [];\n    const visited = new Set();\n    const inDegree = new Map();\n\n    nodes.forEach(node => {\n      inDegree.set(node.id, 0);\n    });\n\n    connections.forEach(conn => {\n      inDegree.set(conn.to, (inDegree.get(conn.to) || 0) + 1);\n    });\n\n    const queue = nodes.filter(node => inDegree.get(node.id) === 0);\n\n    while (queue.length > 0) {\n      const node = queue.shift();\n      if (!visited.has(node.id)) {\n        visited.add(node.id);\n        ordered.push(node);\n\n        connections\n          .filter(conn => conn.from === node.id)\n          .forEach(conn => {\n            const targetNode = nodes.find(n => n.id === conn.to);\n            if (targetNode) {\n              const newDegree = (inDegree.get(conn.to) || 0) - 1;\n              inDegree.set(conn.to, newDegree);\n              if (newDegree === 0) {\n                queue.push(targetNode);\n              }\n            }\n          });\n      }\n    }\n\n    nodes.forEach(node => {\n      if (!visited.has(node.id)) {\n        ordered.push(node);\n      }\n    });\n\n    return ordered;\n  };\n\n  const buildCommand = (node) => {\n    const config = node.config || {};\n    const toolName = node.name.toLowerCase();\n\n    switch (toolName) {\n      case 'nmap':\n        const target = config.target || 'TARGET';\n        const scanType = config.scan_type ? config.scan_type.split(' ')[0] : '-sS';\n        const ports = config.ports || '1-1000';\n        const timing = config.timing ? config.timing.split(' ')[0] : '-T3';\n        const scripts = config.scripts ? `--script=${config.scripts}` : '';\n        const outputFlag = config.output === 'XML' ? '-oX' : config.output === 'Grepable' ? '-oG' : config.output === 'All' ? '-oA' : '';\n        const outputFile = outputFlag ? ` ${outputFlag} output` : '';\n        return `nmap ${scanType} ${timing} ${scripts} ${ports} ${target}${outputFile}`.replace(/\\s+/g, ' ').trim();\n\n      case 'subfinder':\n        const domain = config.domain || 'example.com';\n        const sources = config.sources ? `-sources ${config.sources}` : '';\n        const recursive = config.recursive ? '-recursive' : '';\n        const threads = config.threads ? `-t ${config.threads}` : '';\n        const timeout = config.timeout ? `-timeout ${config.timeout}` : '';\n        const outputFileSub = config.output ? `-o ${config.output}` : '';\n        return `subfinder -d ${domain} ${sources} ${recursive} ${threads} ${timeout} ${outputFileSub}`.replace(/\\s+/g, ' ').trim();\n\n      case 'dirsearch':\n        const url = config.url || 'https://example.com';\n        const wordlist = config.wordlist ? `-w ${config.wordlist}` : '-w /usr/share/wordlists/dirb/common.txt';\n        const extensions = config.extensions ? `-e ${config.extensions}` : '';\n        const threadsDir = config.threads ? `-t ${config.threads}` : '';\n        const recursiveDir = config.recursive ? '--recursive' : '';\n        const statusCodes = config.status_codes ? `--status-codes ${config.status_codes}` : '';\n        return `python3 dirsearch.py -u ${url} ${wordlist} ${extensions} ${threadsDir} ${recursiveDir} ${statusCodes}`.replace(/\\s+/g, ' ').trim();\n\n      case 'ghauri':\n        const ghauriUrl = config.url || 'http://example.com/vuln.php?id=1';\n        const method = config.method || 'GET';\n        const data = config.data ? `--data \"${config.data}\"` : '';\n        const level = config.level ? `--level ${config.level.split(' ')[0]}` : '';\n        const risk = config.risk ? `--risk ${config.risk}` : '';\n        const technique = config.technique ? `--technique ${config.technique}` : '';\n        return `ghauri -u \"${ghauriUrl}\" ${method === 'POST' ? `-X POST ${data}` : ''} ${level} ${risk} ${technique}`.replace(/\\s+/g, ' ').trim();\n\n      default:\n        return `# ${node.name} - Configuration needed`;\n    }\n  };\n\n  const addOutput = (prompt, text, type = 'normal') => {\n    const timestamp = new Date().toLocaleTimeString();\n    setOutput(prev => [...prev, { prompt, text, type, timestamp }]);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      executeCommand(currentCommand);\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      if (commandHistory.length > 0) {\n        const newIndex = historyIndex === -1 \n          ? commandHistory.length - 1 \n          : Math.max(0, historyIndex - 1);\n        setHistoryIndex(newIndex);\n        setCurrentCommand(commandHistory[newIndex]);\n      }\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (historyIndex >= 0) {\n        const newIndex = historyIndex + 1;\n        if (newIndex >= commandHistory.length) {\n          setHistoryIndex(-1);\n          setCurrentCommand('');\n        } else {\n          setHistoryIndex(newIndex);\n          setCurrentCommand(commandHistory[newIndex]);\n        }\n      }\n    } else if (e.key === 'Tab') {\n      e.preventDefault();\n      // Tab completion could be added here\n    } else if (e.key === 'c' && e.ctrlKey) {\n      e.preventDefault();\n      if (isExecuting) {\n        addOutput('', '^C', 'error');\n        setIsExecuting(false);\n      }\n    } else if (e.key === 'l' && e.ctrlKey) {\n      e.preventDefault();\n      setOutput([]);\n    }\n  };\n\n  const getOutputColor = (type) => {\n    switch (type) {\n      case 'error':\n        return 'text-red-500';\n      case 'info':\n        return 'text-cyan-400';\n      default:\n        return 'text-green-400';\n    }\n  };\n\n  return (\n    <div \n      ref={terminalRef}\n      className=\"flex flex-col h-full bg-black overflow-hidden\"\n      tabIndex={0}\n      onKeyDown={handleKeyDown}\n      style={{ \n        fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n        height: 'calc(100% - 4px)'\n      }}\n    >\n      {/* Terminal Header - macOS style */}\n      <div className=\"flex items-center justify-between px-4 py-2 bg-gray-900 border-b border-gray-800\">\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"flex space-x-1.5\">\n            <div className=\"w-3 h-3 rounded-full bg-red-500 hover:bg-red-600 transition-colors cursor-pointer\" title=\"Close\"></div>\n            <div className=\"w-3 h-3 rounded-full bg-yellow-500 hover:bg-yellow-600 transition-colors cursor-pointer\" title=\"Minimize\"></div>\n            <div className=\"w-3 h-3 rounded-full bg-green-500 hover:bg-green-600 transition-colors cursor-pointer\" title=\"Maximize\"></div>\n          </div>\n          <span className=\"text-xs text-gray-500 ml-3 font-mono\">user@cyberlynx: ~</span>\n        </div>\n        <button\n          onClick={() => setOutput([])}\n          className=\"px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded transition-colors font-mono\"\n        >\n          Clear\n        </button>\n      </div>\n\n      {/* Terminal Output */}\n      <div\n        ref={outputRef}\n        className=\"flex-1 overflow-y-auto p-4 text-sm bg-black text-green-400 terminal-scrollbar\"\n        style={{ \n          fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n          fontSize: '13px',\n          lineHeight: '1.5',\n          scrollbarWidth: 'thin',\n          scrollbarColor: '#374151 #000000'\n        }}\n      >\n        {output.length === 0 && (\n          <div className=\"text-gray-600 mb-2\">\n            <div className=\"text-green-400\">Welcome to CyberLynX Terminal</div>\n            <div className=\"mt-2 text-gray-600\">Type 'help' for available commands</div>\n            <div className=\"text-gray-600\">Type 'workflow-commands' to see generated workflow commands</div>\n            <div className=\"mt-4 text-gray-700\">─────────────────────────────────────────────────────────────</div>\n          </div>\n        )}\n        {output.map((item, index) => (\n          <div key={index} className=\"mb-0.5 leading-relaxed\">\n            {item.prompt && (\n              <span className=\"text-gray-300\">\n                <span className=\"text-green-400 font-semibold\">user</span>\n                <span className=\"text-gray-500\">@</span>\n                <span className=\"text-blue-400 font-semibold\">cyberlynx</span>\n                <span className=\"text-gray-500\">:</span>\n                <span className=\"text-yellow-400\">{item.prompt}</span>\n                <span className=\"text-gray-500\">$</span>\n                {' '}\n              </span>\n            )}\n            <span className={getOutputColor(item.type)} style={{ whiteSpace: 'pre-wrap', wordBreak: 'break-word' }}>\n              {item.text}\n            </span>\n          </div>\n        ))}\n        {isExecuting && (\n          <span className=\"inline-block w-2 h-4 bg-green-400 animate-pulse ml-1\" style={{ verticalAlign: 'middle' }}></span>\n        )}\n      </div>\n\n      {/* Command Input */}\n      <div className=\"border-t border-gray-800 bg-black p-2\">\n        <div className=\"flex items-center\">\n          <span className=\"text-gray-300 mr-1 select-none\" style={{ fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace' }}>\n            <span className=\"text-green-400 font-semibold\">user</span>\n            <span className=\"text-gray-500\">@</span>\n            <span className=\"text-blue-400 font-semibold\">cyberlynx</span>\n            <span className=\"text-gray-500\">:</span>\n            <span className=\"text-yellow-400\">{currentDirectory}</span>\n            <span className=\"text-gray-500\">$</span>\n            {' '}\n          </span>\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={currentCommand}\n            onChange={(e) => setCurrentCommand(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"flex-1 bg-transparent text-green-400 outline-none ml-1 font-mono caret-green-400\"\n            style={{ \n              fontFamily: 'Monaco, Menlo, \"Ubuntu Mono\", Consolas, \"Courier New\", monospace',\n              fontSize: '13px'\n            }}\n            placeholder=\"\"\n            disabled={isExecuting}\n            autoFocus\n            spellCheck={false}\n          />\n          {isExecuting && (\n            <span className=\"text-gray-500 ml-2 animate-pulse\">⏳</span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WorkflowTerminal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}