{"ast":null,"code":"var _jsxFileName = \"/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowCanvas.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport ToolNode from './ToolNode';\nimport ToolConfigModal from './ToolConfigModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WorkflowCanvas = () => {\n  _s();\n  const [nodes, setNodes] = useState([]);\n  const [connections, setConnections] = useState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [configModalOpen, setConfigModalOpen] = useState(false);\n  const [configTool, setConfigTool] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [connectingFrom, setConnectingFrom] = useState(null);\n  const canvasRef = useRef(null);\n  const nodeIdCounter = useRef(0);\n  const availableTools = [{\n    name: 'Nmap',\n    icon: 'nmap'\n  }, {\n    name: 'Subfinder',\n    icon: 'subfinder'\n  }, {\n    name: 'Dirsearch',\n    icon: 'dirsearch'\n  }, {\n    name: 'Ghauri',\n    icon: 'ghauri'\n  }];\n  const addNode = toolName => {\n    const newId = `node-${nodeIdCounter.current++}`;\n    const newNode = {\n      id: newId,\n      name: toolName,\n      position: {\n        x: Math.random() * 400 + 100,\n        y: Math.random() * 300 + 100\n      },\n      config: {}\n    };\n    setNodes([...nodes, newNode]);\n  };\n  const handleNodeClick = node => {\n    setSelectedNode(node.id);\n    setConfigTool(node);\n    setConfigModalOpen(true);\n  };\n  const handleSaveConfig = (nodeId, config) => {\n    setNodes(prevNodes => prevNodes.map(node => node.id === nodeId ? {\n      ...node,\n      config\n    } : node));\n  };\n  const handleDeleteNode = nodeId => {\n    setNodes(prevNodes => prevNodes.filter(node => node.id !== nodeId));\n    setConnections(prevConnections => prevConnections.filter(conn => conn.from !== nodeId && conn.to !== nodeId));\n    if (selectedNode === nodeId) {\n      setSelectedNode(null);\n    }\n  };\n  const handleNodeMouseDown = (nodeId, e) => {\n    e.stopPropagation();\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) {\n      var _canvasRef$current;\n      setDragging(nodeId);\n      const rect = (_canvasRef$current = canvasRef.current) === null || _canvasRef$current === void 0 ? void 0 : _canvasRef$current.getBoundingClientRect();\n      if (rect) {\n        setDragOffset({\n          x: e.clientX - rect.left - node.position.x,\n          y: e.clientY - rect.top - node.position.y\n        });\n      }\n    }\n  };\n  const handleConnectionPointClick = (nodeId, pointType, e) => {\n    e.stopPropagation();\n    if (pointType === 'output') {\n      if (connectingFrom === nodeId) {\n        setConnectingFrom(null);\n      } else {\n        setConnectingFrom(nodeId);\n      }\n    } else if (pointType === 'input' && connectingFrom && connectingFrom !== nodeId) {\n      // Create connection\n      const existingConnection = connections.find(conn => conn.from === connectingFrom && conn.to === nodeId);\n      if (!existingConnection) {\n        setConnections([...connections, {\n          from: connectingFrom,\n          to: nodeId\n        }]);\n      }\n      setConnectingFrom(null);\n    }\n  };\n  const handleMouseMove = e => {\n    if (dragging && canvasRef.current) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      setNodes(prevNodes => prevNodes.map(node => node.id === dragging ? {\n        ...node,\n        position: {\n          x: Math.max(0, Math.min(e.clientX - rect.left - dragOffset.x, rect.width - 140)),\n          y: Math.max(0, Math.min(e.clientY - rect.top - dragOffset.y, rect.height - 80))\n        }\n      } : node));\n    }\n  };\n  const handleMouseUp = () => {\n    setDragging(null);\n  };\n  useEffect(() => {\n    if (dragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [dragging, dragOffset]);\n  const drawConnection = (fromNode, toNode) => {\n    const fromX = fromNode.position.x + 70; // Center of node\n    const fromY = fromNode.position.y + 80; // Bottom of node\n    const toX = toNode.position.x + 70;\n    const toY = toNode.position.y; // Top of node\n\n    const midY = (fromY + toY) / 2;\n    return /*#__PURE__*/_jsxDEV(\"path\", {\n      d: `M ${fromX} ${fromY} C ${fromX} ${midY}, ${toX} ${midY}, ${toX} ${toY}`,\n      stroke: \"rgba(255, 109, 31, 0.6)\",\n      strokeWidth: \"2\",\n      fill: \"none\",\n      markerEnd: \"url(#arrowhead)\",\n      className: \"cursor-pointer hover:stroke-primary transition-colors\"\n    }, `${fromNode.id}-${toNode.id}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-4 left-4 z-20 bg-surface-light rounded-xl shadow-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-semibold text-text-primary mb-3 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4 mr-2 text-primary\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            d: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), \"Add Tools\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col space-y-2\",\n        children: availableTools.map(tool => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addNode(tool.name),\n          className: \"px-4 py-2 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white text-sm font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: tool.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, tool.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), nodes.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-3 border-t border-gray-200 dark:border-gray-700\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNodes([]);\n            setConnections([]);\n            setSelectedNode(null);\n            setConnectingFrom(null);\n          },\n          className: \"w-full px-4 py-2 bg-danger hover:bg-red-600 text-white text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Clear All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: canvasRef,\n      className: \"relative w-full h-full bg-background-primary border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl overflow-hidden\",\n      style: {\n        minHeight: '600px'\n      },\n      onClick: () => {\n        setSelectedNode(null);\n        setConnectingFrom(null);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"absolute inset-0 pointer-events-none\",\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n          children: /*#__PURE__*/_jsxDEV(\"marker\", {\n            id: \"arrowhead\",\n            markerWidth: \"10\",\n            markerHeight: \"10\",\n            refX: \"9\",\n            refY: \"3\",\n            orient: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n              points: \"0 0, 10 3, 0 6\",\n              fill: \"rgba(255, 109, 31, 0.6)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), connections.map((conn, index) => {\n          const fromNode = nodes.find(n => n.id === conn.from);\n          const toNode = nodes.find(n => n.id === conn.to);\n          if (fromNode && toNode) {\n            return /*#__PURE__*/_jsxDEV(\"g\", {\n              children: [drawConnection(fromNode, toNode), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: `M ${fromNode.position.x + 70} ${fromNode.position.y + 80} C ${fromNode.position.x + 70} ${(fromNode.position.y + 80 + toNode.position.y) / 2}, ${toNode.position.x + 70} ${(fromNode.position.y + 80 + toNode.position.y) / 2}, ${toNode.position.x + 70} ${toNode.position.y}`,\n                stroke: \"transparent\",\n                strokeWidth: \"20\",\n                fill: \"none\",\n                className: \"cursor-pointer\",\n                onClick: e => {\n                  e.stopPropagation();\n                  if (e.detail === 2) {\n                    // Double click to delete\n                    setConnections(prev => prev.filter((c, i) => i !== index));\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this)]\n            }, `${conn.from}-${conn.to}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this);\n          }\n          return null;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), nodes.map(node => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(ToolNode, {\n          tool: node,\n          position: node.position,\n          onClick: () => handleNodeClick(node),\n          isSelected: selectedNode === node.id,\n          onConnectionPointClick: handleConnectionPointClick,\n          isConnectingFrom: connectingFrom === node.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), selectedNode === node.id && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            handleDeleteNode(node.id);\n          },\n          className: \"absolute -top-2 -right-2 w-6 h-6 bg-danger hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg z-20 transition-all duration-200\",\n          style: {\n            left: `${node.position.x + 140}px`,\n            top: `${node.position.y}px`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute cursor-move\",\n          style: {\n            left: `${node.position.x}px`,\n            top: `${node.position.y}px`,\n            width: '140px',\n            height: '60px' // Exclude connection point areas\n          },\n          onMouseDown: e => {\n            // Only drag if not clicking on connection points\n            if (e.target === e.currentTarget || !e.target.closest('[class*=\"connection\"]')) {\n              handleNodeMouseDown(node.id, e);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, node.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this)), nodes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-24 h-24 mx-auto text-text-secondary opacity-50 mb-4\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-text-secondary text-lg font-semibold\",\n            children: \"No tools added yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-text-secondary text-sm mt-2\",\n            children: \"Click on a tool in the sidebar to add it to your workflow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), configTool && /*#__PURE__*/_jsxDEV(ToolConfigModal, {\n      tool: configTool,\n      isOpen: configModalOpen,\n      onClose: () => {\n        setConfigModalOpen(false);\n        setConfigTool(null);\n      },\n      onSave: handleSaveConfig\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }, this), nodes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-4 right-4 z-20 bg-surface-light rounded-xl shadow-lg p-4 max-w-xs\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-text-secondary mb-2 font-semibold\",\n        children: \"\\uD83D\\uDCA1 Tips:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"text-xs text-text-secondary space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Drag nodes to reposition them\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Click on a node to configure it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), nodes.length > 1 && /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\u2022 Click bottom point to connect, then click top point of target node\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), connectingFrom && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-primary font-semibold\",\n          children: \"\\u2192 Connecting from selected node...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(WorkflowCanvas, \"mkpj70W7NaId6L61ZXlejxPR7TQ=\");\n_c = WorkflowCanvas;\nexport default WorkflowCanvas;\nvar _c;\n$RefreshReg$(_c, \"WorkflowCanvas\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ToolNode","ToolConfigModal","jsxDEV","_jsxDEV","Fragment","_Fragment","WorkflowCanvas","_s","nodes","setNodes","connections","setConnections","selectedNode","setSelectedNode","configModalOpen","setConfigModalOpen","configTool","setConfigTool","dragging","setDragging","dragOffset","setDragOffset","x","y","connectingFrom","setConnectingFrom","canvasRef","nodeIdCounter","availableTools","name","icon","addNode","toolName","newId","current","newNode","id","position","Math","random","config","handleNodeClick","node","handleSaveConfig","nodeId","prevNodes","map","handleDeleteNode","filter","prevConnections","conn","from","to","handleNodeMouseDown","e","stopPropagation","find","n","_canvasRef$current","rect","getBoundingClientRect","clientX","left","clientY","top","handleConnectionPointClick","pointType","existingConnection","handleMouseMove","max","min","width","height","handleMouseUp","window","addEventListener","removeEventListener","drawConnection","fromNode","toNode","fromX","fromY","toX","toY","midY","d","stroke","strokeWidth","fill","markerEnd","className","fileName","_jsxFileName","lineNumber","columnNumber","children","viewBox","strokeLinecap","strokeLinejoin","tool","onClick","length","ref","style","minHeight","markerWidth","markerHeight","refX","refY","orient","points","index","detail","prev","c","i","isSelected","onConnectionPointClick","isConnectingFrom","onMouseDown","target","currentTarget","closest","isOpen","onClose","onSave","_c","$RefreshReg$"],"sources":["/Users/mnsh/Desktop/cyber-lynx-go/frontend/src/components/workflow/WorkflowCanvas.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport ToolNode from './ToolNode';\nimport ToolConfigModal from './ToolConfigModal';\n\nconst WorkflowCanvas = () => {\n  const [nodes, setNodes] = useState([]);\n  const [connections, setConnections] = useState([]);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [configModalOpen, setConfigModalOpen] = useState(false);\n  const [configTool, setConfigTool] = useState(null);\n  const [dragging, setDragging] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [connectingFrom, setConnectingFrom] = useState(null);\n  const canvasRef = useRef(null);\n  const nodeIdCounter = useRef(0);\n\n  const availableTools = [\n    { name: 'Nmap', icon: 'nmap' },\n    { name: 'Subfinder', icon: 'subfinder' },\n    { name: 'Dirsearch', icon: 'dirsearch' },\n    { name: 'Ghauri', icon: 'ghauri' }\n  ];\n\n  const addNode = (toolName) => {\n    const newId = `node-${nodeIdCounter.current++}`;\n    const newNode = {\n      id: newId,\n      name: toolName,\n      position: {\n        x: Math.random() * 400 + 100,\n        y: Math.random() * 300 + 100\n      },\n      config: {}\n    };\n    setNodes([...nodes, newNode]);\n  };\n\n  const handleNodeClick = (node) => {\n    setSelectedNode(node.id);\n    setConfigTool(node);\n    setConfigModalOpen(true);\n  };\n\n  const handleSaveConfig = (nodeId, config) => {\n    setNodes(prevNodes =>\n      prevNodes.map(node =>\n        node.id === nodeId ? { ...node, config } : node\n      )\n    );\n  };\n\n  const handleDeleteNode = (nodeId) => {\n    setNodes(prevNodes => prevNodes.filter(node => node.id !== nodeId));\n    setConnections(prevConnections =>\n      prevConnections.filter(conn => conn.from !== nodeId && conn.to !== nodeId)\n    );\n    if (selectedNode === nodeId) {\n      setSelectedNode(null);\n    }\n  };\n\n  const handleNodeMouseDown = (nodeId, e) => {\n    e.stopPropagation();\n    const node = nodes.find(n => n.id === nodeId);\n    if (node) {\n      setDragging(nodeId);\n      const rect = canvasRef.current?.getBoundingClientRect();\n      if (rect) {\n        setDragOffset({\n          x: e.clientX - rect.left - node.position.x,\n          y: e.clientY - rect.top - node.position.y\n        });\n      }\n    }\n  };\n\n  const handleConnectionPointClick = (nodeId, pointType, e) => {\n    e.stopPropagation();\n    if (pointType === 'output') {\n      if (connectingFrom === nodeId) {\n        setConnectingFrom(null);\n      } else {\n        setConnectingFrom(nodeId);\n      }\n    } else if (pointType === 'input' && connectingFrom && connectingFrom !== nodeId) {\n      // Create connection\n      const existingConnection = connections.find(\n        conn => conn.from === connectingFrom && conn.to === nodeId\n      );\n      if (!existingConnection) {\n        setConnections([...connections, { from: connectingFrom, to: nodeId }]);\n      }\n      setConnectingFrom(null);\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (dragging && canvasRef.current) {\n      const rect = canvasRef.current.getBoundingClientRect();\n      setNodes(prevNodes =>\n        prevNodes.map(node =>\n          node.id === dragging\n            ? {\n                ...node,\n                position: {\n                  x: Math.max(0, Math.min(e.clientX - rect.left - dragOffset.x, rect.width - 140)),\n                  y: Math.max(0, Math.min(e.clientY - rect.top - dragOffset.y, rect.height - 80))\n                }\n              }\n            : node\n        )\n      );\n    }\n  };\n\n  const handleMouseUp = () => {\n    setDragging(null);\n  };\n\n  useEffect(() => {\n    if (dragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [dragging, dragOffset]);\n\n  const drawConnection = (fromNode, toNode) => {\n    const fromX = fromNode.position.x + 70; // Center of node\n    const fromY = fromNode.position.y + 80; // Bottom of node\n    const toX = toNode.position.x + 70;\n    const toY = toNode.position.y; // Top of node\n\n    const midY = (fromY + toY) / 2;\n\n    return (\n      <path\n        key={`${fromNode.id}-${toNode.id}`}\n        d={`M ${fromX} ${fromY} C ${fromX} ${midY}, ${toX} ${midY}, ${toX} ${toY}`}\n        stroke=\"rgba(255, 109, 31, 0.6)\"\n        strokeWidth=\"2\"\n        fill=\"none\"\n        markerEnd=\"url(#arrowhead)\"\n        className=\"cursor-pointer hover:stroke-primary transition-colors\"\n      />\n    );\n  };\n\n  return (\n    <div className=\"relative w-full h-full\">\n      {/* Toolbar */}\n      <div className=\"absolute top-4 left-4 z-20 bg-surface-light rounded-xl shadow-lg p-4\">\n        <h3 className=\"text-sm font-semibold text-text-primary mb-3 flex items-center\">\n          <svg className=\"w-4 h-4 mr-2 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"></path>\n          </svg>\n          Add Tools\n        </h3>\n        <div className=\"flex flex-col space-y-2\">\n          {availableTools.map((tool) => (\n            <button\n              key={tool.name}\n              onClick={() => addNode(tool.name)}\n              className=\"px-4 py-2 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary text-white text-sm font-semibold rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 flex items-center space-x-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n              </svg>\n              <span>{tool.name}</span>\n            </button>\n          ))}\n        </div>\n        {nodes.length > 0 && (\n          <>\n            <div className=\"my-3 border-t border-gray-200 dark:border-gray-700\"></div>\n            <button\n              onClick={() => {\n                setNodes([]);\n                setConnections([]);\n                setSelectedNode(null);\n                setConnectingFrom(null);\n              }}\n              className=\"w-full px-4 py-2 bg-danger hover:bg-red-600 text-white text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center space-x-2\"\n            >\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\n              </svg>\n              <span>Clear All</span>\n            </button>\n          </>\n        )}\n      </div>\n\n      {/* Canvas */}\n      <div\n        ref={canvasRef}\n        className=\"relative w-full h-full bg-background-primary border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl overflow-hidden\"\n        style={{ minHeight: '600px' }}\n        onClick={() => {\n          setSelectedNode(null);\n          setConnectingFrom(null);\n        }}\n      >\n        {/* SVG for connections */}\n        <svg className=\"absolute inset-0 pointer-events-none\" style={{ width: '100%', height: '100%' }}>\n          <defs>\n            <marker\n              id=\"arrowhead\"\n              markerWidth=\"10\"\n              markerHeight=\"10\"\n              refX=\"9\"\n              refY=\"3\"\n              orient=\"auto\"\n            >\n              <polygon\n                points=\"0 0, 10 3, 0 6\"\n                fill=\"rgba(255, 109, 31, 0.6)\"\n              />\n            </marker>\n          </defs>\n          {connections.map((conn, index) => {\n            const fromNode = nodes.find(n => n.id === conn.from);\n            const toNode = nodes.find(n => n.id === conn.to);\n            if (fromNode && toNode) {\n              return (\n                <g key={`${conn.from}-${conn.to}-${index}`}>\n                  {drawConnection(fromNode, toNode)}\n                  {/* Invisible clickable area for deleting connections */}\n                  <path\n                    d={`M ${fromNode.position.x + 70} ${fromNode.position.y + 80} C ${fromNode.position.x + 70} ${(fromNode.position.y + 80 + toNode.position.y) / 2}, ${toNode.position.x + 70} ${(fromNode.position.y + 80 + toNode.position.y) / 2}, ${toNode.position.x + 70} ${toNode.position.y}`}\n                    stroke=\"transparent\"\n                    strokeWidth=\"20\"\n                    fill=\"none\"\n                    className=\"cursor-pointer\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      if (e.detail === 2) { // Double click to delete\n                        setConnections(prev => prev.filter((c, i) => i !== index));\n                      }\n                    }}\n                  />\n                </g>\n              );\n            }\n            return null;\n          })}\n        </svg>\n\n        {/* Nodes */}\n        {nodes.map((node) => (\n          <div key={node.id} className=\"relative\">\n            <ToolNode\n              tool={node}\n              position={node.position}\n              onClick={() => handleNodeClick(node)}\n              isSelected={selectedNode === node.id}\n              onConnectionPointClick={handleConnectionPointClick}\n              isConnectingFrom={connectingFrom === node.id}\n            />\n            {/* Delete button */}\n            {selectedNode === node.id && (\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleDeleteNode(node.id);\n                }}\n                className=\"absolute -top-2 -right-2 w-6 h-6 bg-danger hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg z-20 transition-all duration-200\"\n                style={{\n                  left: `${node.position.x + 140}px`,\n                  top: `${node.position.y}px`\n                }}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n                </svg>\n              </button>\n            )}\n            {/* Drag handle - only on the node itself, not connection points */}\n            <div\n              className=\"absolute cursor-move\"\n              style={{\n                left: `${node.position.x}px`,\n                top: `${node.position.y}px`,\n                width: '140px',\n                height: '60px' // Exclude connection point areas\n              }}\n              onMouseDown={(e) => {\n                // Only drag if not clicking on connection points\n                if (e.target === e.currentTarget || !e.target.closest('[class*=\"connection\"]')) {\n                  handleNodeMouseDown(node.id, e);\n                }\n              }}\n            ></div>\n          </div>\n        ))}\n\n        {/* Empty state */}\n        {nodes.length === 0 && (\n          <div className=\"absolute inset-0 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <svg className=\"w-24 h-24 mx-auto text-text-secondary opacity-50 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"></path>\n              </svg>\n              <p className=\"text-text-secondary text-lg font-semibold\">No tools added yet</p>\n              <p className=\"text-text-secondary text-sm mt-2\">Click on a tool in the sidebar to add it to your workflow</p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Configuration Modal */}\n      {configTool && (\n        <ToolConfigModal\n          tool={configTool}\n          isOpen={configModalOpen}\n          onClose={() => {\n            setConfigModalOpen(false);\n            setConfigTool(null);\n          }}\n          onSave={handleSaveConfig}\n        />\n      )}\n\n      {/* Connection Helper */}\n      {nodes.length > 0 && (\n        <div className=\"absolute bottom-4 right-4 z-20 bg-surface-light rounded-xl shadow-lg p-4 max-w-xs\">\n          <p className=\"text-xs text-text-secondary mb-2 font-semibold\">ðŸ’¡ Tips:</p>\n          <ul className=\"text-xs text-text-secondary space-y-1\">\n            <li>â€¢ Drag nodes to reposition them</li>\n            <li>â€¢ Click on a node to configure it</li>\n            {nodes.length > 1 && (\n              <li>â€¢ Click bottom point to connect, then click top point of target node</li>\n            )}\n            {connectingFrom && (\n              <li className=\"text-primary font-semibold\">â†’ Connecting from selected node...</li>\n            )}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default WorkflowCanvas;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,eAAe,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACe,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACuB,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC;IAAEyB,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC5D,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM6B,SAAS,GAAG5B,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM6B,aAAa,GAAG7B,MAAM,CAAC,CAAC,CAAC;EAE/B,MAAM8B,cAAc,GAAG,CACrB;IAAEC,IAAI,EAAE,MAAM;IAAEC,IAAI,EAAE;EAAO,CAAC,EAC9B;IAAED,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAY,CAAC,EACxC;IAAED,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAY,CAAC,EACxC;IAAED,IAAI,EAAE,QAAQ;IAAEC,IAAI,EAAE;EAAS,CAAC,CACnC;EAED,MAAMC,OAAO,GAAIC,QAAQ,IAAK;IAC5B,MAAMC,KAAK,GAAG,QAAQN,aAAa,CAACO,OAAO,EAAE,EAAE;IAC/C,MAAMC,OAAO,GAAG;MACdC,EAAE,EAAEH,KAAK;MACTJ,IAAI,EAAEG,QAAQ;MACdK,QAAQ,EAAE;QACRf,CAAC,EAAEgB,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG;QAC5BhB,CAAC,EAAEe,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG;MAC3B,CAAC;MACDC,MAAM,EAAE,CAAC;IACX,CAAC;IACD/B,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAE2B,OAAO,CAAC,CAAC;EAC/B,CAAC;EAED,MAAMM,eAAe,GAAIC,IAAI,IAAK;IAChC7B,eAAe,CAAC6B,IAAI,CAACN,EAAE,CAAC;IACxBnB,aAAa,CAACyB,IAAI,CAAC;IACnB3B,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAM4B,gBAAgB,GAAGA,CAACC,MAAM,EAAEJ,MAAM,KAAK;IAC3C/B,QAAQ,CAACoC,SAAS,IAChBA,SAAS,CAACC,GAAG,CAACJ,IAAI,IAChBA,IAAI,CAACN,EAAE,KAAKQ,MAAM,GAAG;MAAE,GAAGF,IAAI;MAAEF;IAAO,CAAC,GAAGE,IAC7C,CACF,CAAC;EACH,CAAC;EAED,MAAMK,gBAAgB,GAAIH,MAAM,IAAK;IACnCnC,QAAQ,CAACoC,SAAS,IAAIA,SAAS,CAACG,MAAM,CAACN,IAAI,IAAIA,IAAI,CAACN,EAAE,KAAKQ,MAAM,CAAC,CAAC;IACnEjC,cAAc,CAACsC,eAAe,IAC5BA,eAAe,CAACD,MAAM,CAACE,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAKP,MAAM,IAAIM,IAAI,CAACE,EAAE,KAAKR,MAAM,CAC3E,CAAC;IACD,IAAIhC,YAAY,KAAKgC,MAAM,EAAE;MAC3B/B,eAAe,CAAC,IAAI,CAAC;IACvB;EACF,CAAC;EAED,MAAMwC,mBAAmB,GAAGA,CAACT,MAAM,EAAEU,CAAC,KAAK;IACzCA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnB,MAAMb,IAAI,GAAGlC,KAAK,CAACgD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,EAAE,KAAKQ,MAAM,CAAC;IAC7C,IAAIF,IAAI,EAAE;MAAA,IAAAgB,kBAAA;MACRvC,WAAW,CAACyB,MAAM,CAAC;MACnB,MAAMe,IAAI,IAAAD,kBAAA,GAAGhC,SAAS,CAACQ,OAAO,cAAAwB,kBAAA,uBAAjBA,kBAAA,CAAmBE,qBAAqB,CAAC,CAAC;MACvD,IAAID,IAAI,EAAE;QACRtC,aAAa,CAAC;UACZC,CAAC,EAAEgC,CAAC,CAACO,OAAO,GAAGF,IAAI,CAACG,IAAI,GAAGpB,IAAI,CAACL,QAAQ,CAACf,CAAC;UAC1CC,CAAC,EAAE+B,CAAC,CAACS,OAAO,GAAGJ,IAAI,CAACK,GAAG,GAAGtB,IAAI,CAACL,QAAQ,CAACd;QAC1C,CAAC,CAAC;MACJ;IACF;EACF,CAAC;EAED,MAAM0C,0BAA0B,GAAGA,CAACrB,MAAM,EAAEsB,SAAS,EAAEZ,CAAC,KAAK;IAC3DA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnB,IAAIW,SAAS,KAAK,QAAQ,EAAE;MAC1B,IAAI1C,cAAc,KAAKoB,MAAM,EAAE;QAC7BnB,iBAAiB,CAAC,IAAI,CAAC;MACzB,CAAC,MAAM;QACLA,iBAAiB,CAACmB,MAAM,CAAC;MAC3B;IACF,CAAC,MAAM,IAAIsB,SAAS,KAAK,OAAO,IAAI1C,cAAc,IAAIA,cAAc,KAAKoB,MAAM,EAAE;MAC/E;MACA,MAAMuB,kBAAkB,GAAGzD,WAAW,CAAC8C,IAAI,CACzCN,IAAI,IAAIA,IAAI,CAACC,IAAI,KAAK3B,cAAc,IAAI0B,IAAI,CAACE,EAAE,KAAKR,MACtD,CAAC;MACD,IAAI,CAACuB,kBAAkB,EAAE;QACvBxD,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAE;UAAEyC,IAAI,EAAE3B,cAAc;UAAE4B,EAAE,EAAER;QAAO,CAAC,CAAC,CAAC;MACxE;MACAnB,iBAAiB,CAAC,IAAI,CAAC;IACzB;EACF,CAAC;EAED,MAAM2C,eAAe,GAAId,CAAC,IAAK;IAC7B,IAAIpC,QAAQ,IAAIQ,SAAS,CAACQ,OAAO,EAAE;MACjC,MAAMyB,IAAI,GAAGjC,SAAS,CAACQ,OAAO,CAAC0B,qBAAqB,CAAC,CAAC;MACtDnD,QAAQ,CAACoC,SAAS,IAChBA,SAAS,CAACC,GAAG,CAACJ,IAAI,IAChBA,IAAI,CAACN,EAAE,KAAKlB,QAAQ,GAChB;QACE,GAAGwB,IAAI;QACPL,QAAQ,EAAE;UACRf,CAAC,EAAEgB,IAAI,CAAC+B,GAAG,CAAC,CAAC,EAAE/B,IAAI,CAACgC,GAAG,CAAChB,CAAC,CAACO,OAAO,GAAGF,IAAI,CAACG,IAAI,GAAG1C,UAAU,CAACE,CAAC,EAAEqC,IAAI,CAACY,KAAK,GAAG,GAAG,CAAC,CAAC;UAChFhD,CAAC,EAAEe,IAAI,CAAC+B,GAAG,CAAC,CAAC,EAAE/B,IAAI,CAACgC,GAAG,CAAChB,CAAC,CAACS,OAAO,GAAGJ,IAAI,CAACK,GAAG,GAAG5C,UAAU,CAACG,CAAC,EAAEoC,IAAI,CAACa,MAAM,GAAG,EAAE,CAAC;QAChF;MACF,CAAC,GACD9B,IACN,CACF,CAAC;IACH;EACF,CAAC;EAED,MAAM+B,aAAa,GAAGA,CAAA,KAAM;IAC1BtD,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACd,IAAImB,QAAQ,EAAE;MACZwD,MAAM,CAACC,gBAAgB,CAAC,WAAW,EAAEP,eAAe,CAAC;MACrDM,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAEF,aAAa,CAAC;MACjD,OAAO,MAAM;QACXC,MAAM,CAACE,mBAAmB,CAAC,WAAW,EAAER,eAAe,CAAC;QACxDM,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAEH,aAAa,CAAC;MACtD,CAAC;IACH;EACF,CAAC,EAAE,CAACvD,QAAQ,EAAEE,UAAU,CAAC,CAAC;EAE1B,MAAMyD,cAAc,GAAGA,CAACC,QAAQ,EAAEC,MAAM,KAAK;IAC3C,MAAMC,KAAK,GAAGF,QAAQ,CAACzC,QAAQ,CAACf,CAAC,GAAG,EAAE,CAAC,CAAC;IACxC,MAAM2D,KAAK,GAAGH,QAAQ,CAACzC,QAAQ,CAACd,CAAC,GAAG,EAAE,CAAC,CAAC;IACxC,MAAM2D,GAAG,GAAGH,MAAM,CAAC1C,QAAQ,CAACf,CAAC,GAAG,EAAE;IAClC,MAAM6D,GAAG,GAAGJ,MAAM,CAAC1C,QAAQ,CAACd,CAAC,CAAC,CAAC;;IAE/B,MAAM6D,IAAI,GAAG,CAACH,KAAK,GAAGE,GAAG,IAAI,CAAC;IAE9B,oBACEhF,OAAA;MAEEkF,CAAC,EAAE,KAAKL,KAAK,IAAIC,KAAK,MAAMD,KAAK,IAAII,IAAI,KAAKF,GAAG,IAAIE,IAAI,KAAKF,GAAG,IAAIC,GAAG,EAAG;MAC3EG,MAAM,EAAC,yBAAyB;MAChCC,WAAW,EAAC,GAAG;MACfC,IAAI,EAAC,MAAM;MACXC,SAAS,EAAC,iBAAiB;MAC3BC,SAAS,EAAC;IAAuD,GAN5D,GAAGZ,QAAQ,CAAC1C,EAAE,IAAI2C,MAAM,CAAC3C,EAAE,EAAE;MAAAuD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAOnC,CAAC;EAEN,CAAC;EAED,oBACE3F,OAAA;IAAKuF,SAAS,EAAC,wBAAwB;IAAAK,QAAA,gBAErC5F,OAAA;MAAKuF,SAAS,EAAC,sEAAsE;MAAAK,QAAA,gBACnF5F,OAAA;QAAIuF,SAAS,EAAC,gEAAgE;QAAAK,QAAA,gBAC5E5F,OAAA;UAAKuF,SAAS,EAAC,2BAA2B;UAACF,IAAI,EAAC,MAAM;UAACF,MAAM,EAAC,cAAc;UAACU,OAAO,EAAC,WAAW;UAAAD,QAAA,eAC9F5F,OAAA;YAAM8F,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACX,WAAW,EAAC,GAAG;YAACF,CAAC,EAAC;UAAwJ;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClO,CAAC,aAER;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACL3F,OAAA;QAAKuF,SAAS,EAAC,yBAAyB;QAAAK,QAAA,EACrCnE,cAAc,CAACkB,GAAG,CAAEqD,IAAI,iBACvBhG,OAAA;UAEEiG,OAAO,EAAEA,CAAA,KAAMrE,OAAO,CAACoE,IAAI,CAACtE,IAAI,CAAE;UAClC6D,SAAS,EAAC,iQAAiQ;UAAAK,QAAA,gBAE3Q5F,OAAA;YAAKuF,SAAS,EAAC,SAAS;YAACF,IAAI,EAAC,MAAM;YAACF,MAAM,EAAC,cAAc;YAACU,OAAO,EAAC,WAAW;YAAAD,QAAA,eAC5E5F,OAAA;cAAM8F,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACX,WAAW,EAAC,GAAG;cAACF,CAAC,EAAC;YAA4B;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtG,CAAC,eACN3F,OAAA;YAAA4F,QAAA,EAAOI,IAAI,CAACtE;UAAI;YAAA8D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA,GAPnBK,IAAI,CAACtE,IAAI;UAAA8D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQR,CACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACLtF,KAAK,CAAC6F,MAAM,GAAG,CAAC,iBACflG,OAAA,CAAAE,SAAA;QAAA0F,QAAA,gBACE5F,OAAA;UAAKuF,SAAS,EAAC;QAAoD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC1E3F,OAAA;UACEiG,OAAO,EAAEA,CAAA,KAAM;YACb3F,QAAQ,CAAC,EAAE,CAAC;YACZE,cAAc,CAAC,EAAE,CAAC;YAClBE,eAAe,CAAC,IAAI,CAAC;YACrBY,iBAAiB,CAAC,IAAI,CAAC;UACzB,CAAE;UACFiE,SAAS,EAAC,gKAAgK;UAAAK,QAAA,gBAE1K5F,OAAA;YAAKuF,SAAS,EAAC,SAAS;YAACF,IAAI,EAAC,MAAM;YAACF,MAAM,EAAC,cAAc;YAACU,OAAO,EAAC,WAAW;YAAAD,QAAA,eAC5E5F,OAAA;cAAM8F,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACX,WAAW,EAAC,GAAG;cAACF,CAAC,EAAC;YAA8H;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxM,CAAC,eACN3F,OAAA;YAAA4F,QAAA,EAAM;UAAS;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAAA,eACT,CACH;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN3F,OAAA;MACEmG,GAAG,EAAE5E,SAAU;MACfgE,SAAS,EAAC,qIAAqI;MAC/Ia,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAQ,CAAE;MAC9BJ,OAAO,EAAEA,CAAA,KAAM;QACbvF,eAAe,CAAC,IAAI,CAAC;QACrBY,iBAAiB,CAAC,IAAI,CAAC;MACzB,CAAE;MAAAsE,QAAA,gBAGF5F,OAAA;QAAKuF,SAAS,EAAC,sCAAsC;QAACa,KAAK,EAAE;UAAEhC,KAAK,EAAE,MAAM;UAAEC,MAAM,EAAE;QAAO,CAAE;QAAAuB,QAAA,gBAC7F5F,OAAA;UAAA4F,QAAA,eACE5F,OAAA;YACEiC,EAAE,EAAC,WAAW;YACdqE,WAAW,EAAC,IAAI;YAChBC,YAAY,EAAC,IAAI;YACjBC,IAAI,EAAC,GAAG;YACRC,IAAI,EAAC,GAAG;YACRC,MAAM,EAAC,MAAM;YAAAd,QAAA,eAEb5F,OAAA;cACE2G,MAAM,EAAC,gBAAgB;cACvBtB,IAAI,EAAC;YAAyB;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,EACNpF,WAAW,CAACoC,GAAG,CAAC,CAACI,IAAI,EAAE6D,KAAK,KAAK;UAChC,MAAMjC,QAAQ,GAAGtE,KAAK,CAACgD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,EAAE,KAAKc,IAAI,CAACC,IAAI,CAAC;UACpD,MAAM4B,MAAM,GAAGvE,KAAK,CAACgD,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACrB,EAAE,KAAKc,IAAI,CAACE,EAAE,CAAC;UAChD,IAAI0B,QAAQ,IAAIC,MAAM,EAAE;YACtB,oBACE5E,OAAA;cAAA4F,QAAA,GACGlB,cAAc,CAACC,QAAQ,EAAEC,MAAM,CAAC,eAEjC5E,OAAA;gBACEkF,CAAC,EAAE,KAAKP,QAAQ,CAACzC,QAAQ,CAACf,CAAC,GAAG,EAAE,IAAIwD,QAAQ,CAACzC,QAAQ,CAACd,CAAC,GAAG,EAAE,MAAMuD,QAAQ,CAACzC,QAAQ,CAACf,CAAC,GAAG,EAAE,IAAI,CAACwD,QAAQ,CAACzC,QAAQ,CAACd,CAAC,GAAG,EAAE,GAAGwD,MAAM,CAAC1C,QAAQ,CAACd,CAAC,IAAI,CAAC,KAAKwD,MAAM,CAAC1C,QAAQ,CAACf,CAAC,GAAG,EAAE,IAAI,CAACwD,QAAQ,CAACzC,QAAQ,CAACd,CAAC,GAAG,EAAE,GAAGwD,MAAM,CAAC1C,QAAQ,CAACd,CAAC,IAAI,CAAC,KAAKwD,MAAM,CAAC1C,QAAQ,CAACf,CAAC,GAAG,EAAE,IAAIyD,MAAM,CAAC1C,QAAQ,CAACd,CAAC,EAAG;gBACpR+D,MAAM,EAAC,aAAa;gBACpBC,WAAW,EAAC,IAAI;gBAChBC,IAAI,EAAC,MAAM;gBACXE,SAAS,EAAC,gBAAgB;gBAC1BU,OAAO,EAAG9C,CAAC,IAAK;kBACdA,CAAC,CAACC,eAAe,CAAC,CAAC;kBACnB,IAAID,CAAC,CAAC0D,MAAM,KAAK,CAAC,EAAE;oBAAE;oBACpBrG,cAAc,CAACsG,IAAI,IAAIA,IAAI,CAACjE,MAAM,CAAC,CAACkE,CAAC,EAAEC,CAAC,KAAKA,CAAC,KAAKJ,KAAK,CAAC,CAAC;kBAC5D;gBACF;cAAE;gBAAApB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA,GAfI,GAAG5C,IAAI,CAACC,IAAI,IAAID,IAAI,CAACE,EAAE,IAAI2D,KAAK,EAAE;cAAApB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAgBvC,CAAC;UAER;UACA,OAAO,IAAI;QACb,CAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGLtF,KAAK,CAACsC,GAAG,CAAEJ,IAAI,iBACdvC,OAAA;QAAmBuF,SAAS,EAAC,UAAU;QAAAK,QAAA,gBACrC5F,OAAA,CAACH,QAAQ;UACPmG,IAAI,EAAEzD,IAAK;UACXL,QAAQ,EAAEK,IAAI,CAACL,QAAS;UACxB+D,OAAO,EAAEA,CAAA,KAAM3D,eAAe,CAACC,IAAI,CAAE;UACrC0E,UAAU,EAAExG,YAAY,KAAK8B,IAAI,CAACN,EAAG;UACrCiF,sBAAsB,EAAEpD,0BAA2B;UACnDqD,gBAAgB,EAAE9F,cAAc,KAAKkB,IAAI,CAACN;QAAG;UAAAuD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,EAEDlF,YAAY,KAAK8B,IAAI,CAACN,EAAE,iBACvBjC,OAAA;UACEiG,OAAO,EAAG9C,CAAC,IAAK;YACdA,CAAC,CAACC,eAAe,CAAC,CAAC;YACnBR,gBAAgB,CAACL,IAAI,CAACN,EAAE,CAAC;UAC3B,CAAE;UACFsD,SAAS,EAAC,iKAAiK;UAC3Ka,KAAK,EAAE;YACLzC,IAAI,EAAE,GAAGpB,IAAI,CAACL,QAAQ,CAACf,CAAC,GAAG,GAAG,IAAI;YAClC0C,GAAG,EAAE,GAAGtB,IAAI,CAACL,QAAQ,CAACd,CAAC;UACzB,CAAE;UAAAwE,QAAA,eAEF5F,OAAA;YAAKuF,SAAS,EAAC,SAAS;YAACF,IAAI,EAAC,MAAM;YAACF,MAAM,EAAC,cAAc;YAACU,OAAO,EAAC,WAAW;YAAAD,QAAA,eAC5E5F,OAAA;cAAM8F,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACX,WAAW,EAAC,GAAG;cAACF,CAAC,EAAC;YAAsB;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CACT,eAED3F,OAAA;UACEuF,SAAS,EAAC,sBAAsB;UAChCa,KAAK,EAAE;YACLzC,IAAI,EAAE,GAAGpB,IAAI,CAACL,QAAQ,CAACf,CAAC,IAAI;YAC5B0C,GAAG,EAAE,GAAGtB,IAAI,CAACL,QAAQ,CAACd,CAAC,IAAI;YAC3BgD,KAAK,EAAE,OAAO;YACdC,MAAM,EAAE,MAAM,CAAC;UACjB,CAAE;UACF+C,WAAW,EAAGjE,CAAC,IAAK;YAClB;YACA,IAAIA,CAAC,CAACkE,MAAM,KAAKlE,CAAC,CAACmE,aAAa,IAAI,CAACnE,CAAC,CAACkE,MAAM,CAACE,OAAO,CAAC,uBAAuB,CAAC,EAAE;cAC9ErE,mBAAmB,CAACX,IAAI,CAACN,EAAE,EAAEkB,CAAC,CAAC;YACjC;UACF;QAAE;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA,GA1CCpD,IAAI,CAACN,EAAE;QAAAuD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA2CZ,CACN,CAAC,EAGDtF,KAAK,CAAC6F,MAAM,KAAK,CAAC,iBACjBlG,OAAA;QAAKuF,SAAS,EAAC,mDAAmD;QAAAK,QAAA,eAChE5F,OAAA;UAAKuF,SAAS,EAAC,aAAa;UAAAK,QAAA,gBAC1B5F,OAAA;YAAKuF,SAAS,EAAC,uDAAuD;YAACF,IAAI,EAAC,MAAM;YAACF,MAAM,EAAC,cAAc;YAACU,OAAO,EAAC,WAAW;YAAAD,QAAA,eAC1H5F,OAAA;cAAM8F,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACX,WAAW,EAAC,GAAG;cAACF,CAAC,EAAC;YAAsM;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChR,CAAC,eACN3F,OAAA;YAAGuF,SAAS,EAAC,2CAA2C;YAAAK,QAAA,EAAC;UAAkB;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eAC/E3F,OAAA;YAAGuF,SAAS,EAAC,kCAAkC;YAAAK,QAAA,EAAC;UAAyD;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1G;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGL9E,UAAU,iBACTb,OAAA,CAACF,eAAe;MACdkG,IAAI,EAAEnF,UAAW;MACjB2G,MAAM,EAAE7G,eAAgB;MACxB8G,OAAO,EAAEA,CAAA,KAAM;QACb7G,kBAAkB,CAAC,KAAK,CAAC;QACzBE,aAAa,CAAC,IAAI,CAAC;MACrB,CAAE;MACF4G,MAAM,EAAElF;IAAiB;MAAAgD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CACF,EAGAtF,KAAK,CAAC6F,MAAM,GAAG,CAAC,iBACflG,OAAA;MAAKuF,SAAS,EAAC,mFAAmF;MAAAK,QAAA,gBAChG5F,OAAA;QAAGuF,SAAS,EAAC,gDAAgD;QAAAK,QAAA,EAAC;MAAQ;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eAC1E3F,OAAA;QAAIuF,SAAS,EAAC,uCAAuC;QAAAK,QAAA,gBACnD5F,OAAA;UAAA4F,QAAA,EAAI;QAA+B;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxC3F,OAAA;UAAA4F,QAAA,EAAI;QAAiC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACzCtF,KAAK,CAAC6F,MAAM,GAAG,CAAC,iBACflG,OAAA;UAAA4F,QAAA,EAAI;QAAoE;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAC7E,EACAtE,cAAc,iBACbrB,OAAA;UAAIuF,SAAS,EAAC,4BAA4B;UAAAK,QAAA,EAAC;QAAkC;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAClF;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACvF,EAAA,CApVID,cAAc;AAAAwH,EAAA,GAAdxH,cAAc;AAsVpB,eAAeA,cAAc;AAAC,IAAAwH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}